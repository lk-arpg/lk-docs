{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to the Lorekeeper documentation!","text":"<p>Lorekeeper is an open-source framework for managing ARPGs/closed species masterlists built using the Laravel framework. In simple terms - you will be able to make a copy of the site, perform setup/enter data about your species and game, and it'll provide you with the automation to keep track of your species, players and ARPG submissions.</p> <p>Lorekeeper is free and open-source, which means it's free for you to use and modify to your needs. Please see the tutorials below for instructions on setting up!</p> <p>Quick Links:</p> <ul> <li>Setup Information</li> <li>Lorekeeper GitHub repo</li> <li>Demo Site</li> <li>Discord Server</li> </ul>"},{"location":"roadmap/","title":"Future Plans","text":"<p>These are ideas that are on the table for implementation in the future, should there be enough time for it. (Suggestions are not being accepted at this time, please refrain from asking for more features - I may ask in the future if that time comes, but for now there are already a lot of ideas to tackle)</p>"},{"location":"roadmap/#communication-update","title":"Communication Update","text":"<p>More communication features, eliminate the need to use any other sites/apps to reach other users.</p>"},{"location":"roadmap/#user-side","title":"User Side","text":"<ul> <li>Messaging</li> <li>Comments<ul> <li>User page</li> <li>Character page</li> <li>News</li> <li>etc.</li> </ul> </li> <li>Forums - more below</li> <li>Blocking</li> <li>Reporting users/character profiles</li> </ul>"},{"location":"roadmap/#admin-side","title":"Admin Side","text":"<ul> <li>Features for managing comments</li> <li>Viewing users' block lists</li> <li>Reports queue</li> </ul>"},{"location":"roadmap/#forums","title":"Forums","text":"<p>2 options:</p> <ul> <li>Manually built forums</li> <li>Use phpBB</li> </ul> <p>Pros of manually-built forums:</p> <ul> <li>Easier to match the visual look</li> <li>Can do some features like responding in-character</li> <li>Definitely works with Laravel becaus... I'd be building it in Laravel</li> </ul> <p>Cons of manually-built forums:</p> <ul> <li>Extremely tedious</li> <li>Everyone has different ideas of what features a forum should have</li> </ul> <p>Pros of phpBB:</p> <ul> <li>Many existing modules that can be picked and chosen to match the site owner's needs</li> <li>More robust than what I can do due to community development over several years</li> </ul> <p>Cons of phpBB:</p> <ul> <li>There are no complete instructions on integration with Laravel so this may be difficult</li> </ul> <p>Ideally I'd like to go with the phpBB integration option but will have to spend a while tinkering with it to see how to make it work, the limitations, etc.</p>"},{"location":"roadmap/#galleriestext-postsjournals","title":"Galleries/Text posts/Journals","text":"<p>Allow users to upload images and etc. on-site instead of relying on deviantART to host content.</p> <p>Somewhat iffy on this one as it will rely on the site having enough storage space for images - but this will be the responsibility of the site owner I guess? ARPGs also tend to be small in scope so this should not prove to be a major problem...</p> <ul> <li>Galleries<ul> <li>Allow users to upload art (needs to be reportable for offensive content, any restrictions on content (must be ARPG-related, etc.) should be responsibility of the owner?)</li> <li>Users can comment on uploaded pieces</li> <li>Gallery pieces can be submitted as per normal for prompts, a prompt link is added on the page if it's accepted as a prompt submission</li> </ul> </li> <li>Text posts<ul> <li>For hosting writing (reportable for offensive content as well)</li> <li>Users can comment on uploaded posts</li> <li>Can also be submitted for prompts, prompt link added if accepted as prompt submission</li> </ul> </li> <li>Favouriting of art/text posts<ul> <li>Able to view your own favourites</li> <li>Users can hide all of their own numbers/turn off notifs on people favouriting their works if they don't want to see them</li> </ul> </li> <li>Journals<ul> <li>More or less same as text posts? But posted to a different place that's just like\u2026Journal (maybe the name should be changed\u2026something like Blog Posts or something, we're going back to 2003)</li> <li>Can't be submitted, these are for casual use</li> <li>Maybe polls\u2026</li> </ul> </li> </ul>"},{"location":"roadmap/#watermarking","title":"Watermarking","text":"<p>Built-in watermarking, ability to upload different watermarks, can also use for certing</p> <ul> <li>Create watermarks<ul> <li>Watermarks can have foreground and background layers</li> <li>Background layer can have a \"clipping mask\" option - the character will be clipped to this layer if selected (this is to help with certing)</li> <li>Either layer can be left blank if not needed - e.g. a simple semi-transparent foreground layer works as a traditional watermark, or opaque/elaborate foreground frame + background image can work as a decorated masterlist image</li> </ul> </li> <li>Applying watermarks<ul> <li>Can select a default watermark that will be used for user uploads (in design approvals) - users will have to use this watermark</li> <li>Mods with masterlist powers can select watermark (including in design approvals)</li> <li>Watermark will always be applied in the centre, overlaid without changing opacity</li> <li>Thumbnail generation?<ul> <li>Use watermarked art? Or non-watermarked? Or provide the option?</li> <li>If it's watermarked it has to be a 2-step process to generate the image first, then crop the thumbnail</li> <li>Maybe use a config option for this... groups that use full foreground/background certs will want to use the entire watermarked image, groups that use simple watermarking may want to use the unwatermarked and crop only the face, etc.</li> </ul> </li> </ul> </li> <li>Non-watermarked art<ul> <li>Non-watermarked art will only be accessible by masterlist staff/the current owner of the character</li> <li>The URL of this art will change when the character changes hands, so the old owner will lose access (not a perfect solution, but probably helps)</li> </ul> </li> </ul>"},{"location":"roadmap/#misc","title":"Misc","text":"<ul> <li>Discord bot - probably in Python? commands to retrieve any public information from the site</li> <li>Oekaki BBS<ul> <li>html5 version of PaintBBS: https://github.com/funige/neo/</li> <li>Sample usage: https://github.com/sakots/poti-kai</li> </ul> </li> </ul>"},{"location":"features/admin-panel/","title":"Admin Panel","text":"<p>The admin panel collects most of the features of the site that require user rank power to access. These features give users the ability to create and modify data that will be used on the site. This page will list the links available in the admin panel, categorised by the power required to access it.</p>"},{"location":"features/admin-panel/#features","title":"Features","text":""},{"location":"features/admin-panel/#admin","title":"Admin","text":"<p>These can only be edited by the admin account, which is not an assignable power.</p>"},{"location":"features/admin-panel/#user-ranks","title":"User Ranks","text":"<p>Create and edit user ranks to assign to users.</p>"},{"location":"features/admin-panel/#edit-text-pages","title":"Edit Text Pages","text":""},{"location":"features/admin-panel/#news","title":"News","text":"<p>Create and edit news posts.</p>"},{"location":"features/admin-panel/#pages","title":"Pages","text":"<p>Create and edit site pages.</p>"},{"location":"features/admin-panel/#manage-users","title":"Manage Users","text":""},{"location":"features/admin-panel/#user-index","title":"User Index","text":"<p>Lists all users on the site. This links to pages for each user that allow for editing of user information (note that the Edit Ranks power is needed to edit the user's rank), bans, and a record of user information that was edited by staff.</p>"},{"location":"features/admin-panel/#invitation-keys","title":"Invitation Keys","text":"<p>Create and delete invitation keys to register for the site when the site is closed for public registration.</p>"},{"location":"features/admin-panel/#manage-submissions","title":"Manage Submissions","text":""},{"location":"features/admin-panel/#prompt-submissions","title":"Prompt Submissions","text":"<p>View, approve and reject prompt submissions.</p>"},{"location":"features/admin-panel/#claim-submissions","title":"Claim Submissions","text":"<p>View, approve and reject claim submissions.</p>"},{"location":"features/admin-panel/#edit-inventories","title":"Edit Inventories","text":""},{"location":"features/admin-panel/#currency-grants","title":"Currency Grants","text":"<p>Grant and remove currencies from users.</p>"},{"location":"features/admin-panel/#item-grants","title":"Item Grants","text":"<p>Grant items to users.</p>"},{"location":"features/admin-panel/#edit-world-data","title":"Edit World Data","text":""},{"location":"features/admin-panel/#rarities","title":"Rarities","text":"<p>Create and edit rarities.</p>"},{"location":"features/admin-panel/#species","title":"Species","text":"<p>Create and edit species.</p>"},{"location":"features/admin-panel/#subtypes","title":"Subtypes","text":"<p>Create and edit species subtypes.</p>"},{"location":"features/admin-panel/#trait-categories","title":"Trait Categories","text":"<p>Create and edit trait categories.</p>"},{"location":"features/admin-panel/#traits","title":"Traits","text":"<p>Create and edit traits.</p>"},{"location":"features/admin-panel/#item-categories","title":"Item Categories","text":"<p>Create and edit item categories.</p>"},{"location":"features/admin-panel/#items","title":"Items","text":"<p>Create and edit items.</p>"},{"location":"features/admin-panel/#shops","title":"Shops","text":"<p>Create and edit shops and shop stock.</p>"},{"location":"features/admin-panel/#prompt-categories","title":"Prompt Categories","text":"<p>Create and edit prompt categories.</p>"},{"location":"features/admin-panel/#prompts","title":"Prompts","text":"<p>Create and edit prompts.</p>"},{"location":"features/admin-panel/#character-categories","title":"Character Categories","text":"<p>Create and edit character categories.</p>"},{"location":"features/admin-panel/#currencies","title":"Currencies","text":"<p>Create and edit currencies.</p>"},{"location":"features/admin-panel/#loot-tables","title":"Loot Tables","text":"<p>Create and edit loot tables.</p>"},{"location":"features/admin-panel/#manage-masterlist","title":"Manage Masterlist","text":""},{"location":"features/admin-panel/#create-character","title":"Create Character","text":"<p>Create a character.</p>"},{"location":"features/admin-panel/#create-myo-slot","title":"Create MYO Slot","text":"<p>Create an MYO slot.</p>"},{"location":"features/admin-panel/#character-transfers","title":"Character Transfers","text":"<p>View and approve/deny character transfers.</p>"},{"location":"features/admin-panel/#character-trades","title":"Character Trades","text":"<p>View and approve/deny character trades.</p>"},{"location":"features/admin-panel/#design-updates","title":"Design Updates","text":"<p>View and approve/reject character design updates.</p>"},{"location":"features/admin-panel/#myo-approvals","title":"MYO Approvals","text":"<p>View and approve/reject MYO design submissions.</p>"},{"location":"features/admin-panel/#manage-raffles","title":"Manage Raffles","text":""},{"location":"features/admin-panel/#raffles","title":"Raffles","text":"<p>Create raffles and raffle groups, and modify tickets for raffles.</p>"},{"location":"features/admin-panel/#edit-site-settings","title":"Edit Site Settings","text":""},{"location":"features/admin-panel/#site-settings","title":"Site Settings","text":"<p>Edit site settings.</p>"},{"location":"features/admin-panel/#site-images","title":"Site Images","text":"<p>Edit site settings and additional CSS file.</p>"},{"location":"features/admin-panel/#file-manager","title":"File Manager","text":"<p>Upload and manage files.</p>"},{"location":"features/admin-panel/#see-also","title":"See Also","text":"<ul> <li>Config Files</li> </ul>"},{"location":"features/bookmarks/","title":"Bookmarks","text":"<p>Bookmarks are a feature that can be used to keep track of characters and MYO slots owned by other users privately. Other users, as well as staff members are not able to view or modify bookmarks.</p>"},{"location":"features/bookmarks/#usage","title":"Usage","text":"<p>Any visible character or MYO slot can be bookmarked from its page. The \"Bookmark\" button located in the right side of the character's name header can be clicked to bring up a creation modal.</p> <p>Created bookmarks can be managed from the Character Bookmarks page, which is accessible from the Bookmarks link from the user dropdown on the far right side of the navigation bar. This page allows you to edit and delete bookmarks, and additionally features a mode to hide character thumbnails for a more condensed version of the page. Each bookmark also displays the character's name (with a link to the page), its species, rarity, current owner, and current trade/gift art statuses.</p>"},{"location":"features/bookmarks/#editing","title":"Editing","text":"<p>Bookmarks have the following properties:</p> <ul> <li>Notify me when\u2026<ul> <li>Open For Trades status changes</li> <li>Gift Art Allowed status changes</li> <li>Character's owner changes</li> <li>A new image is uploaded</li> </ul> </li> <li>Comment (No HTML, 500 characters maximum)</li> </ul> <p>The Notify me when... settings each represent whether a notification will be sent to you when the respective change occurs. All of these settings are optional.</p> <p>Open For Trades/Gift Art Allowed settings change whenever the user or a staff member edits the settings. Note that since these are editable by the character's owner themselves, they may change frequently, resulting in a lot of notifications.</p> <p>The Character's owner changes when a character is transferred (voluntarily or forced by a staff member) or traded to another user. It does not send a notification when a new user registers for the site and has their existing characters credited to them.</p> <p>A new image is uploaded when a staff member adds a new image to a character, a design update for a character is successfully approved, or a MYO slot's design is approved.</p> <p>The Comment is entirely optional and provides a space to make a small note regarding the character. As bookmarks are completely invisible to any user other than the bookmarking user, the owner will not be able to see this comment.</p>"},{"location":"features/bookmarks/#see-also","title":"See Also","text":"<ul> <li>Characters</li> <li>MYO Slots</li> <li>User Accounts</li> </ul>"},{"location":"features/character-images/","title":"Character Images","text":"<p>Character Images are a subsection of Characters and MYO Slots. They are used for managing the main part of the character itself - its visual image, rarity, species and traits.</p>"},{"location":"features/character-images/#usage","title":"Usage","text":"<p>Character images are automatically created when a character or MYO slot is created, and when their design is updated through the design updates system. They can also be added manually from the character's page by a staff member with the Manage Masterlist power.</p> <p>Character images are intended to be used as \"versions\" of a character's design - for example, a character with multiple forms, and/or to keep track of past designs the character has had. Each image is separate from the other and can have completely different species/rarity/traits.</p> <p>Updates to a character's images can be tracked via Bookmarks.</p>"},{"location":"features/character-images/#editing","title":"Editing","text":""},{"location":"features/character-images/#creation","title":"Creation","text":"<p>The character image form has certain variations depending on whether you are viewing it in character creation, new image creation or the design updates forms - some options may not always be available. However, images have all of the following properties:</p> <ul> <li>Is Visible</li> <li>Is Valid</li> <li>Character Image (upload)</li> <li>Use Image Cropper</li> <li>Thumbnail Image (upload)</li> <li>Designer(s)</li> <li>Artist(s)</li> <li>Image Notes</li> <li>Species</li> <li>Subtype</li> <li>Character Rarity</li> <li>Traits</li> </ul> <p>Is Visible determines whether the image is visible to the public. If set to Off, only staff members with the relevant power can see the image.</p> <p>Is Valid is a cosmetic toggle - if set to Off, a note will be displayed on the image saying:</p> <p>This version of this character is outdated, and only noted here for recordkeeping purposes. Do not use as an official reference.</p> <p>Character Image is for uploading the main image for the character. Use Image Cropper allows the user to use a cropping application on the page to crop a thumbnail from the uploaded image, which will be used on the character masterlist. Alternatively, a Thumbnail Image can be uploaded in its place.</p> <p>Designer(s) and Artist(s) are used for adding credits for the image's creation. Multiple designers and artists may be attached to a single image.</p> <p>Image Notes is an optional field for adding any additional information about the image. Suggestions include how this version of the character was obtained, any special effects for traits that are too long to fit in the trait descriptions, etc.</p> <p>Species is the species of the character. This is required for creating full characters and optional for creating MYO slots. If this is assigned for an MYO slot, the character created must be that species.</p> <p>Character Rarity is the rarity of the character. This is required for creating full characters and optional for creating MYO slots. If this is assigned for an MYO slot, the character created must be that rarity.</p> <p>Traits is the list of traits to be attached to this image. Any amount of traits, or none, can be attached. If any traits are selected for an MYO slot, they cannot be removed when the user edits the design approval request for it. Traits also contain an additional extra info slot - this can be used to give unique information about how the trait is used on the character. For example, a \"Fish Tail\" trait can be specified to be \"Shark\" or \"Goldfish\".</p>"},{"location":"features/character-images/#editing_1","title":"Editing","text":"<p>Once an image has been added, the information can be edited on the images page by staff with the relevant power. Each image in the gallery at the bottom of the page can be clicked to bring up information about the image and each section can be edited separately. A few other options become available:</p> <ul> <li>Is Viewable</li> <li>Reupload Image</li> <li>Set Active (only for any non-active image)</li> <li>Delete</li> </ul> <p>Is Viewable can be used to hide the image from the character's page. This cannot be toggled off for the character's active image.</p> <p>Reupload Image can be used to reupload the character's masterlist image.</p> <p>Set Active changes the character's active image - this is the image that is displayed on the masterlist.</p> <p>Delete will completely delete the image as well as the actual images (main image and thumbnail) themselves. The character's active image cannot be deleted.</p> <p>Additionally, when there are more than one image in the character's image gallery, they can be sorted/reordered by staff.</p>"},{"location":"features/character-images/#see-also","title":"See Also","text":"<ul> <li>Characters</li> <li>MYO Slots</li> </ul>"},{"location":"features/characters/","title":"Characters","text":"<p>Characters are a resource that can be attached to user accounts. MYO Slots are \"lesser\" versions of characters with more restrictions on how they can be used with site features. They can be edited in the admin panel by users with the Manage Masterlist power.</p>"},{"location":"features/characters/#usage","title":"Usage","text":"<p>All characters are listed on the masterlist.</p> <p>Characters can hold currency and be used to participate in prompts, as well as be transferred/traded. Their designs can be updated through the design updates system. For more information, please refer to the respective pages.</p> <p>Users are able to edit a section of their character's profile, and list their character as being available for receiving gift art and/or trade. This section also includes a text field that allows HTML.</p>"},{"location":"features/characters/#editing","title":"Editing","text":""},{"location":"features/characters/#categories","title":"Categories","text":"<p>Editing character categories requires the Edit World Data power.</p> <p>Character categories can be created in the admin panel, with the following category properties:</p> <ul> <li>Name</li> <li>Code</li> <li>World Page Image</li> <li>Description (accepts HTML)</li> </ul> <p>The image and description are displayed only on the world page.</p> <p>The Code field is important for character code generation (covered below). This code should be unique among character categories, and preferably short.</p> <p>Additionally, categories can be sorted from the Character Categories index page. This order reflects the sorting order of categories on the character categories encyclopedia page.</p>"},{"location":"features/characters/#characters_1","title":"Characters","text":"<p>Characters are set up in a manner such that traits, species, rarity and other specific details about the character tied to its current design are linked to images rather than the character itself. This allows the character to change and be updated, while preserving a record of previous forms (and the ability to revert to an earlier design) and/or have multiple approved forms for a character. This section will cover only the information attached to the character itself - for more information on character images, please see the Character Images page.</p> <p>Characters have the following properties:</p> <ul> <li>Owner</li> <li>Owner Alias</li> <li>Character Category</li> <li>Number</li> <li>Character Code</li> <li>Description</li> <li>Is Visible</li> <li>Is Giftable</li> <li>Is Tradeable</li> <li>Is Resellable</li> <li>On Transfer Cooldown Until</li> </ul> <p>The Owner is the user on-site who owns the character. This field can be left blank if the owner has not registered for an account, and the following field has been filled in.</p> <p>The Owner Alias is the deviantART account name of the user who owns the character. If the Owner field is filled in, this field will be ignored. In the future, if the owner registers for the site, any characters listed under their deviantART name will automatically be attached to their account. Note that if the user has since changed their dA username, this will not happen (characters have to be transferred to their new site account manually).</p> <p>The Character Category is required, and characters cannot be created if at least 1 character category does not exist yet. This is a category for the character that is separate from the character\u2019s species or any other stats, and can be used for example to categorise creator-made designs, MYO designs and guest artist designs. Of course, the usage is entirely up to you - you can also use it to categorise characters by species, or any other criteria you see fit. This category, by default, provides the first half of the character code.</p> <p>The Number is a second identifier for the character. This number can be automatically pulled for new characters, and the rule for how the number should be pulled can be found in the config files. This number, by default, provides the second half of the character code.</p> <p>The Character Code field automatically generates an identifier for the character based on the above two fields. This field must be unique among all characters, but otherwise can be edited in the form if desired. The default configuration generates codes that follow the {character category code}-{number} format, but this can be edited in the config files. This code is used to access the character's page.</p> <p>The Description field allows for a custom description to be entered. This can be left blank if no further information is required. Suggestions for content include: a link to the initial sales post for the character, additional conditions on the transfer of the character, any transfer cooldown, etc.</p> <p>Is Visible controls whether the character is displayed on the character masterlist. If set to not visible, the character will only be visible to users with the Manage Masterlist power (even the owner cannot see it without the power).</p> <p>Is Giftable, Is Tradeable, Is Resellable are toggles that display the respective information prominently on the character's profile. This is largely cosmetic as the site cannot tell what a character is being sold/traded for. However, the following effects will apply:</p> <ul> <li>If all toggles are off, the character is account-bound - it cannot be transferred by the user directly, and cannot be attached to trades. Only users with the Manage Masterlist power can force a transfer.</li> <li>If the character is not tradeable or resellable, the user will not be able to toggle the Up For Trade option in the character's profile (which is a searchable option on the masterlist).</li> </ul> <p>Resale Value is a field that appears if the character is marked as resellable. The dollar value of the character can be set, which will be displayed on the character's profile. This is cosmetic, and purely for reference.</p> <p>On Transfer Cooldown Until causes temporary account binding until the selected date/time. Until the cooldown time has been reached, the owner will not be able to directly transfer the character or attach it to a trade. It is possible to automatically set the cooldown date to x number of days (default: 3) when a user makes a transfer - please see Site Settings for more information.</p>"},{"location":"features/characters/#user-editable-profile","title":"User-editable Profile","text":"<p>After a character has been created, its profile can be edited by the owner or users with the Manage Masterlist power. The following properties can be modified by the user:</p> <ul> <li>Name</li> <li>Profile Content</li> <li>Allow Gift Art</li> <li>Up For Trade</li> </ul> <p>Name is an optional name given to the character. This is purely cosmetic, and also displays next to the character's code on the masterlist, on user profiles, etc.</p> <p>Profile Content is a section that allows HTML content to be entered.</p> <p>Allow Gift Art is a toggle that denotes if the character's owner is open to receiving gift art of the character. This toggle can be searched on the masterlist to find a list of characters for users to draw. This cannot be edited by anyone other than the owner.</p> <p>Up For Trade is a toggle that denotes if the character's owner wants to trade the character. Similarly, this toggle can also be searched on the masterlist. This cannot be edited by anyone other than the owner.</p> <p>Additionally, for users who are not the owner (has the required power), a Notify User toggle is present. If left on, the owner of the character will be notified that their character's profile has been edited (implied: for moderation purposes). Regardless of the status of the toggle, owners of non-visible characters will not be notified.</p>"},{"location":"features/characters/#logs","title":"Logs","text":"<p>Aside from images, characters have 4 types of logs: the change log, ownership history log, currency log and submission log.</p> <p>Change Log: This log specifically logs changes to the character and its images. It lists the specific fields updated, who made the edits, as well as the date of editing.</p> <p>Ownership History: This log tracks the transfer of the character between different users, noting the sender, recipient, log information as well as the date. This is similar to the ownership history log that a user also possesses, but specifically monitors the character only.</p> <p>Currency Logs: Like the user currency logs, this log tracks the in and outflow of currency from the character's bank. Note that characters are unable to transfer currency between each other, and can only transfer currency to their owners. However, character-owned currencies can be used to purchase items from shops (if the settings allow).</p> <p>Submissions: This is a list of submissions that the character has been attached to for rewards.</p>"},{"location":"features/characters/#transfers","title":"Transfers","text":"<p>Characters may change hands in 3 ways:</p> <ul> <li>User-initiated transfer</li> <li>Staff-initiated transfer (a forced transfer)</li> <li>Trades</li> </ul> <p>Transfers may be monitored by changing the <code>open_transfers_queue</code> site setting to 1. This will place all character transfers and trades containing characters into a queue, and must be approved by a staff member before the transfer is completed.</p> <p>User-initiated transfers are a unidirectional transfer from sender to recipient. The recipient is required to accept before they can receive the character. If the transfer queue is closed, the recipient will receive the character immediately upon accepting the transfer.</p> <p>For trades, please see the trades article.</p>"},{"location":"features/characters/#see-also","title":"See Also","text":"<ul> <li>Character Images</li> <li>MYO Slots</li> <li>Masterlist</li> <li>Trades</li> <li>User Accounts</li> </ul>"},{"location":"features/claims/","title":"Claims","text":"<p>Claims are a submission type that accepts user submissions into a queue and distributes rewards when approved. Unlike Prompts, they do not require the user to choose a prompt for submission.</p>"},{"location":"features/claims/#submission","title":"Submission","text":"<p>Claims can be submitted from the claim submission page. A quick link is also available from the submit dropdown on the right hand side of the nav bar.</p> <p>A claim submission requires:</p> <ul> <li>URL</li> <li>Comments (no HTML; accepts line breaks)</li> <li>Rewards</li> </ul> <p>URL is the link to a page containing the material to be reviewed for claim submission. This is expected to link to proof (e.g. a comment, screenshot etc.) that the user is allowed to make this claim.</p> <p>Comments are optional. This space could be used for, for example, entering a reason/purpose for making the claim. Line breaks will be preserved, but HTML will not be rendered.</p>"},{"location":"features/claims/#rewards","title":"Rewards","text":"<p>The rewards section allows the user to select additional rewards. They can choose to add any of:</p> <ul> <li>Items</li> <li>Currencies</li> </ul> <p>Loot tables cannot be selected. This selection is added on top of the default rewards, which are also displayed below the reward selection area.</p>"},{"location":"features/claims/#characters","title":"Characters","text":"<p>The characters section allows the user to add characters to their submission. Inputs are:</p> <ul> <li>Character Code</li> <li>Rewards</li> </ul> <p>Character Code refers to the character's unique identification code.</p> <p>Rewards function much like the user selected rewards, but only currencies can be selected, and these rewards will be credited directly to the character on approval.</p>"},{"location":"features/claims/#submission_1","title":"Submission","text":"<p>Submissions submitted to the approval queue cannot be edited by the user. The submission will have its own page containing all submitted information - this will not be visible to any users besides the submitter and users with the Manage Submissions power until it is approved.</p>"},{"location":"features/claims/#approval-queue","title":"Approval Queue","text":"<p>Users with the Manage Submissions power can view the queue, edit rewards and approve/reject submissions.</p> <p>The claim approval queue consists of lists of submissions filtered by status, ordered by newest first. Pending submissions can be acted upon, while approved and rejected submissions are for reference only.</p> <p>Clicking the edit button takes the user to the submission review page, where they can edit the rewards attached to the submission.</p>"},{"location":"features/claims/#rewards_1","title":"Rewards","text":"<p>The user rewards section lists the rewards the user has selected. The selectable area contains everything the user will receive when their submission is approved.</p> <p>The character rewards section lists the characters and rewards the user has added that will be given to the selected characters. More characters can be added as well.</p>"},{"location":"features/claims/#processing","title":"Processing","text":"<p>The submission can be approved or rejected using the buttons at the bottom. Clicking either will notify the user that their submission has been processed.</p> <p>In the case of approval, any attached rewards will be automatically distributed to the user and characters. The submission page will become publicly visible.</p> <p>In the case of rejection, a comment can be provided to the user. This can be used to inform the user about why their submission was rejected. HTML cannot be used, and the reason will be displayed on the submission page. The submission page remains hidden to users other than staff with the Manage Submissions power and the submitter themselves.</p>"},{"location":"features/claims/#logging","title":"Logging","text":"<p>A list of prompt/claim submissions a user has made is linked from their user profile. Similarly, characters also have a page that lists prompts/claims they have been submitted for rewards in.</p>"},{"location":"features/claims/#see-also","title":"See Also","text":"<ul> <li>Characters</li> <li>Prompts</li> </ul>"},{"location":"features/config-files/","title":"Config Files","text":"<p>The configuration files are files in the site\u2019s code that allow customisation of certain features that are highly unlikely to be changed on a regular basis.</p>"},{"location":"features/config-files/#usage","title":"Usage","text":"<p>These files are located in <code>config/lorekeeper</code>. The <code>settings.php</code> file is the only file that may require any editing at all; the others should not be touched except when coding new features.</p>"},{"location":"features/config-files/#files","title":"Files","text":""},{"location":"features/config-files/#settingsphp","title":"settings.php","text":"<p>This file lists some basic site settings that are unlikely to change once the site is in use, and therefore should be modified before all else. The following properties can be modified here:</p> <ul> <li>Site Name</li> <li>Character Codes (formatting)</li> <li>Masterlist Thumbnail Dimensions</li> <li>Trade Asset Limit</li> </ul> <p>Please refer to the comments in the file itself for a complete description of each setting.</p>"},{"location":"features/config-files/#admin_sidebarphp","title":"admin_sidebar.php","text":"<p>This file lists the links in the admin panel sidebar, as well as the staff power required to view the category of links.</p>"},{"location":"features/config-files/#image_filesphp","title":"image_files.php","text":"<p>This file lists the files that will appear in the image uploader section of the admin panel.</p>"},{"location":"features/config-files/#item_tagsphp","title":"item_tags.php","text":"<p>This file lists item tags that are available to attach to items. Please refer to the tutorial for how to use this file.</p>"},{"location":"features/config-files/#notificationsphp","title":"notifications.php","text":"<p>This file lists notification types as well as their message texts.</p>"},{"location":"features/config-files/#powersphp","title":"powers.php","text":"<p>This file lists staff powers that can be attached to user ranks.</p>"},{"location":"features/config-files/#text_pagesphp","title":"text_pages.php","text":"<p>This file lists text pages that are generated during setup and cannot be deleted from the admin panel.</p>"},{"location":"features/config-files/#see-also","title":"See Also","text":"<ul> <li>Site Settings</li> </ul>"},{"location":"features/currencies/","title":"Currencies","text":"<p>Currencies are distributed through prompts and can be used to purchase items from shops, as well as attached to character design updates. They can be edited in the admin panel by users with the Edit World Data power.</p>"},{"location":"features/currencies/#usage","title":"Usage","text":"<p>Currencies owned by a user can be viewed from their user profile and public bank. Users can transfer currency from their bank (provided that currency can be transferred).</p> <p>Currencies can be obtained via the following methods:</p> <ul> <li>Prompt rewards/Claims</li> <li>Box type items</li> <li>Transferred/traded from another user</li> <li>Granted by users with the Edit Inventories power, in the admin panel</li> </ul> <p>Currencies can be spent/removed via the following methods:</p> <ul> <li>Used to purchase from shops</li> <li>Attached to design updates</li> <li>Transferred/traded to another user</li> <li>Removed by users with the Edit Inventories power, in the admin panel</li> </ul> <p>Removal can be done using the grant currency feature by entering a negative value. Users cannot own negative currency.</p> <p>A log of ingoing/outgoing currencies can be found on the user's bank pages.</p>"},{"location":"features/currencies/#editing","title":"Editing","text":"<p>Currencies have the following properties:</p> <ul> <li>Currency Name</li> <li>Abbreviation</li> <li>Icon Image</li> <li>World Page Image</li> <li>Description (accepts HTML)</li> <li>Attach to Users<ul> <li>Profile Display</li> <li>User \u2192 User Transfers</li> </ul> </li> <li>Attach to Characters<ul> <li>User \u2192 Character Transfers</li> <li>Character \u2192 User Transfers</li> </ul> </li> </ul> <p>Currency Name is the currency's full name (e.g. \"Gold\") that is displayed on the encyclopedia and bank pages. It is also shown in dropdown selections.</p> <p>Abbreviation is the short form of the currency's name (e.g. \"G\"). It is used if an icon is not provided, and also listed alongside the currency's full name in the bank. If an abbreviation is not provided, the currency's full name will be used instead.</p> <p>The Icon Image is a small image that can be used to represent the currency (e.g. a gold coin). There is no restriction on the size of the image, but the recommended height is 16 pixels. This image is displayed on the user's profile page as well as in logs.</p> <p>The World Page Image is shown in the encyclopedia, and nowhere else. As with all encyclopedia images, the recommended size is 200 x 200 pixels, but can be any size.</p> <p>Description is a description of the currency for the encyclopedia page.</p> <p>The Attach to Users option allows users to hold this currency. Similarly, the Attach to Characters option allows characters to hold this currency. Either of these options must be selected.</p> <p>The Profile Display option chooses whether or not to display the currency on the user's profile, making it easy to tell how much currency the user is holding at a glance. The user's other currencies can still be viewed easily from their bank page. This makes it possible to, for example, give users event currencies without it showing prominently on their profiles when the event is not running.</p> <p>The User \u2192 User Transfers, User \u2192 Character Transfers and Character \u2192 User Transfers concern whether currencies can be transferred in those directions. Note that character-to-character transfers are not an option as this is achievable by selecting both the user/character transfer options. Disabling the user-to-user option also prevents currencies from being attached to trades.</p> <p>Additionally, the display order of currencies can be edited from the Sort Currencies page. This order affects how currencies are displayed on profiles and in the bank, and user-owned currencies and character-owned currencies can have different sorting orders.</p>"},{"location":"features/currencies/#see-also","title":"See Also","text":"<ul> <li>Shops</li> </ul>"},{"location":"features/design-updates/","title":"Design Updates","text":"<p>Design updates are a means by which users can upload and submit an updated version of their character's design, or a completed MYO slot design for review. This system streamlines the process of uploading new images for the masterlist by having users prepare the images and fill in the character stats, and submissions go into a review queue where staff can act upon them.</p>"},{"location":"features/design-updates/#usage","title":"Usage","text":"<p>Users are able to prepare a new approval request for a character or MYO slot by going to their character/slot's page and clicking on Update Design or Submit MYO Design respectively.</p> <p>At this point, if the <code>is_design_updates_open</code> site setting is set to 0, the user will not be able to create a new request. However, if it is set to 1, the page will prompt the user to create a new request if one does not exist, or to view the request if there is already an active one. Clicking on the button creates a new draft for a design update approval. After each section of the approval has been updated, it can be submitted to the queue.</p> <p>Note that characters or MYO slots with an active request cannot be transferred or traded, due to complications that may arise from attached resources. At the draft stage, a design approval request can be deleted easily.</p> <p>Once the request has been submitted to the queue, staff with the Manage Masterlist power can choose to approve, reject or cancel the request. The effects of each action are covered further below.</p>"},{"location":"features/design-updates/#submission","title":"Submission","text":"<p>The approval request page contains the following tabs: Status, Comments, Masterlist Image, Add-ons, Traits.</p> <p>Status shows the current status of the draft, and notes if any of the required information is missing. It also allows users to delete the request (the current draft), or submit it if it's ready. All of the sections below must have been edited at least once for the user to submit their request, regardless of whether any information has been entered (for the optional fields).</p> <p>Comments is a section for the user to include any notes about the submission, if required by staff.</p> <p>Masterlist Image allows the user to upload an image and use the thumbnail cropper to crop it. The image thumbnail can be edited by staff during approval, if necessary. The user can also add image credits for the designer(s) and artist(s) of the image.</p> <p>Add-ons allows the user to choose items and currencies from their inventory/bank to submit with the request. These items and currencies will be removed from their inventory/bank immediately, but returned if the user decides to cancel.</p> <p>Traits allows the user to select the species, subtype, rarity and traits for their character. If the user is submitting for an MYO slot, any restrictions on these fields will be applied here - for example, compulsory traits cannot be deselected, and if the species is fixed, it cannot be changed here.</p> <p>After the information on each tab has been saved once, the slot can be submitted. At any point during the editing of this draft, the page can be viewed by a user with the Manage Masterlist power - this can be used for obtaining feedback on the current design without having to submit it.</p>"},{"location":"features/design-updates/#approval-queue","title":"Approval Queue","text":"<p>Users with the Manage Masterlist power can view the queue and approve/reject/cancel submissions in the design update approval queue.</p> <p>The staff member reviewing the submission cannot modify any of the trait information the user has submitted - this is so the submitter does not end up with traits different from what they expected to receive. However, the staff member can:</p> <ul> <li>Re-crop the thumbnail</li> <li>Upload a new thumbnail</li> <li>Change the designer/artist credits of the image</li> </ul>"},{"location":"features/design-updates/#approve","title":"Approve","text":"<p>Approving the request requires some data about the character to be added (in the case of MYO slots) or reviewed:</p> <ul> <li>Character Category</li> <li>Number</li> <li>Character Code</li> <li>Description</li> <li>Is Giftable</li> <li>Is Tradeable</li> <li>Is Resellable</li> <li>Resale Value</li> <li>On Transfer Cooldown Until</li> <li>Set Active Image</li> <li>Invalidate Old Image</li> </ul> <p>Character Category ~ On Transfer Cooldown Until are covered in the Characters article.</p> <p>Set Active Image, if set to On, will cause the newly-uploaded image to become the character's new masterlist image.</p> <p>Invalidate Old Image, if set to On, will mark the character's old masterlist image as invalid. See the Character Images article for more information.</p>"},{"location":"features/design-updates/#reject","title":"Reject","text":"<p>Rejecting the request hard denies the update, causing all items and currency attached to it to be returned to the user, and forcing them to need to create a new request if they want to update the same character.</p> <p>A comment can be added to the rejection, which the user will be able to see on the request page.</p> <p>If a softer approach is desired, consider cancelling the request instead.</p>"},{"location":"features/design-updates/#cancel","title":"Cancel","text":"<p>Cancelling the request puts it back into draft status, allowing the submitter to make changes to their submission and resubmit it.</p> <p>A comment can be added as feedback, which the user will be able to see on the request page. Additionally, a toggle is provided for preserving the user's position in the queue - if set to On, when the user resubmits the request, it will be inserted back into the queue at the position it was at previously, allowing the submitter to avoid having to wait for their turn again.</p>"},{"location":"features/design-updates/#see-also","title":"See Also","text":"<ul> <li>Character Images</li> <li>Characters</li> <li>MYO Slots</li> </ul>"},{"location":"features/file-manager/","title":"File Manager","text":"<p>The File Manager is a feature in the admin panel that can be used to upload files through the site interface. It provides a simple way to upload images that can be used in the descriptions of encyclopedia entries, news posts, etc. as well as other files that may be useful to players of the ARPG, such as drawing bases/PSDs. The File Manager can be used by users with the Edit Site Settings power.</p>"},{"location":"features/file-manager/#usage","title":"Usage","text":"<p>The File Manager is a simple file uploader for creating folders and uploading files. Folders and files are uploaded to the public/files folder. Using any other method to place/edit files in this folder (e.g. through FTP) will also cause the changes to be reflected in the manager.</p> <p>Folders can be created up to 1 level deep (no nested folders). Each folder can hold an unlimited number of files (only limited by amount of storage space your webhosting plan provides). Folders can be renamed and deleted, both of which will break existing links to any of their contents.</p> <p>Files can be uploaded one-by-one to the base folder and any created folders. There is no restriction on the file type. The file size is limited by the maximum upload size as specified in your server's php.ini, and may or may not be an accurate representation of the maximum size of file you can upload - the displayed maximum size is a guideline, and avoiding uploading excessively large files is recommended.</p> <p>Files in a folder are listed in the folder page. The files can be accessed by clicking on the file names. Files can be moved, renamed or deleted, which will break existing links to any of them.</p>"},{"location":"features/file-manager/#editing","title":"Editing","text":"<p>Folders have the following properties:</p> <ul> <li>Name</li> </ul> <p>Name is the folder's name. This should be unique (not the name of an existing folder), and use only alphanumeric characters and dashes/underscores only.</p> <p>File uploads present only an upload. The move form allows the user to select a destination folder, and will overwrite any existing file in the destination folder with the same file name. Similarly, the rename feature will also overwrite an existing file with the same name. It can also be used to change the file extension of the file, but this may cause unintended behaviour and thus is not recommended.</p>"},{"location":"features/file-manager/#see-also","title":"See Also","text":"<ul> <li>Site Settings</li> <li>Site Pages</li> </ul>"},{"location":"features/invitation-keys/","title":"Invitation Keys","text":"<p>Invitation keys, used for registering for the site, can be generated in the admin panel (requires the Manage Users power).</p>"},{"location":"features/invitation-keys/#effects","title":"Effects","text":"<p>Invitation keys are only useful when the <code>is_registration_open</code> site setting is set to 0. In this case, the registration form will display an additional, required invitation key field and new users will not be able to create an account without a valid key.</p>"},{"location":"features/invitation-keys/#editing","title":"Editing","text":"<p>Keys can be generated in the Invitation Keys section of the admin panel. When generated, a random string will be generated as an invitation code, which can be given to a new user to register an account with. After the user has used the code, their account name will be listed in the table, as well as the date of usage.</p> <p>Codes that have not been used can be deleted, rendering them unusable.</p>"},{"location":"features/items/","title":"Items","text":"<p>Items can be owned by users and may be used in various ways. They can be edited in the admin panel by users with the Edit World Data power.</p>"},{"location":"features/items/#usage","title":"Usage","text":"<p>Items can be created in the admin panel. Once created, they can be distributed to users through a variety of ways. Item categories are optional, but provide categorisation in the user's inventory and shop pages.</p> <p>Items are primarily used as turn-ins for character design updates. Depending on their item tags, they may also have additional functionality.</p>"},{"location":"features/items/#editing","title":"Editing","text":""},{"location":"features/items/#categories","title":"Categories","text":"<p>Editing item categories and items requires the Edit World Data power.</p> <p>Item categories can be created in the admin panel, with the usual category properties:</p> <ul> <li>Name</li> <li>World Page Image</li> <li>Description (accepts HTML)</li> </ul> <p>The image and description are displayed only on the world page. Categories are optional, but useful for sorting items. Items without a category will be placed in a \"Miscellaneous\" category in the inventory.</p> <p>Additionally, categories can be sorted from the Item Categories index page. This order reflects the sorting order of categories in user inventories.</p>"},{"location":"features/items/#items_1","title":"Items","text":"<p>Items themselves have the following properties:</p> <ul> <li>Name</li> <li>World Page Image</li> <li>Item Category</li> <li>Description (accepts HTML)</li> <li>Allow User \u2192 User Transfer</li> </ul> <p>Name is the item name which is displayed on the item index and shown in user inventories.</p> <p>The World Page Image is shown in the encyclopedia, and also functions as the item's thumbnail image in inventories. As with all encyclopedia images, the recommended size is 200 x 200 pixels, but can be any size.</p> <p>Item Category is the category to which the item falls under, and used for organisation. It is otherwise optional.</p> <p>Description is a description of the item for the encyclopedia page.</p> <p>Allow User \u2192 User Transfer is a setting for whether the item can be transferred to another user. This can be used to create account-bound items - items with this turned off cannot be sent to another user or added to a trade. Note that individual items can also be account-bound at the time of granting, so this setting does not have to be used if you want to create only selectively account-bound items.</p>"},{"location":"features/items/#item-tags","title":"Item Tags","text":"<p>This is a section under the item editing form that becomes accessible after the item has been created. Item tags are special settings that affect how the item can be used from a user's inventory - what they do has to be written in the site code itself, but once coded, can be attached to any item to give them the special behaviour.</p> <p>The Add a Tag button can be used to select an item tag. Duplicate item tags cannot be added to the same item. Attached item tags can be toggled on or off to allow or remove functionality without completely removing the item tag.</p> <p>By default, the Box type item tag is available - this allows you to choose a particular set of rewards from items, currencies and loot tables. When a user chooses to use the item in the inventory, they will receive these rewards. The process of creating this item tag can be seen in this tutorial.</p>"},{"location":"features/items/#inventory","title":"Inventory","text":"<p>Each user has an inventory, which is sorted by item category and further sorted by alphabetical order of item names. Clicking on an item brings up a menu that lists the item's source (if any), accompanying notes (if any), and actions that can be performed on it.</p> <p>The Source field notes down the source of the item. This field is automatically filled out when the user receives an item through site activity e.g. through prompts/claims and functions as a record of how/why an item was received. In the case of shop purchases, this also notes who purchased the item, the shop it was purchased from, and the price.</p> <p>The Notes field contains additional information about the item. This is sometimes automatically filled out - for example, purchasing an item from a shop will fill the Notes section with the date of purchase. When granting an item from the admin panel, staff can fill in this section with a custom message.</p> <p>Below this section, actions that can be used are listed. Special actions from item tags are listed first, then general actions.</p> <p>Transfer Item (if the item can be transferred) allows the user to transfer the item to another user.</p> <p>Delete Item allows the users to trash the item entirely.</p>"},{"location":"features/items/#see-also","title":"See Also","text":"<ul> <li>User Accounts</li> <li>Shops</li> <li>Tutorial: Creating Item Types</li> </ul>"},{"location":"features/loot-tables/","title":"Loot Tables","text":"<p>Loot tables are used to randomise rewards during distribution. They can be edited in the admin panel by users with the Edit World Data power and are the only type of world data that cannot be publicly viewed.</p>"},{"location":"features/loot-tables/#usage","title":"Usage","text":"<p>Loot tables must be created before they can be distributed as a reward.</p> <p>After they have been created, they can be attached to the following:</p> <ul> <li>Prompt rewards</li> <li>Box type items</li> <li>Another loot table</li> </ul> <p>Loot tables can be nested, chaining multiple loot tables to form a complex item selection system. Nesting many loot tables is not recommended, however, and care must be taken to avoid creating an infinite rolling loop.</p> <p>Upon claiming the reward (having a prompt approved, or opening a box type item) the final reward will be rolled accordingly. Each loot table will select only ONE (1) of the rewards attached to it.</p>"},{"location":"features/loot-tables/#editing","title":"Editing","text":"<p>Loot tables require the following:</p>"},{"location":"features/loot-tables/#name","title":"Name","text":"<p>This is the name used to identify the table internally. This name will only be shown in the admin panel when editing rewards; users will not be able to see this name, so it is recommended to make it descriptive to make loot table selection easier.</p>"},{"location":"features/loot-tables/#display-name","title":"Display Name","text":"<p>This is the name that users will see, if a random reward will be given as a prompt reward. Users without the appropriate power are not able to see the rewards of a loot table as well as the odds, so you may want to choose a name that's appropriately cryptic depending on how transparent you would like to be about the rewards. (e.g. \"A Random Prize\" vs. \"Item A OR Item B\")</p>"},{"location":"features/loot-tables/#loot","title":"Loot","text":"<p>Under this section, you can choose the rewards that can be given out through this table. The following loot types can be selected:</p> <ul> <li>Item</li> <li>Currency</li> <li>Loot table</li> <li>None (no reward given)</li> </ul> <p>Additionally, you can specify the quantity and rolling weight.</p> <p>Quantity is fairly straightforward, giving a fixed amount of the item or currency selected. In the case of loot tables, it rolls the loot table that number of times. For example, if you selected Loot Table A with a quantity of 2, it would roll Loot Table A 2 times, rather than once and double the reward.</p> <p>Weight represents the likelihood of the reward being selected. This is not a percentage (which is calculated in the Chance column) and does not have to add up to 100, although that may make it easier to keep track of.</p>"},{"location":"features/loot-tables/#test-rolling","title":"Test Rolling","text":"<p>The loot table editing page provides a feature to generate test results for a loot table. Note that if the loot section has been edited, it must be saved beforehand for the changes to take effect. Additionally, if \"None\" is selected as a possible reward type, it will not show up as a result (so fewer results than rolls selected may be generated in this case).</p>"},{"location":"features/loot-tables/#see-also","title":"See Also","text":"<ul> <li>Items</li> <li>Currencies</li> <li>Prompts</li> <li>How Random is Random?</li> </ul>"},{"location":"features/masterlist/","title":"Masterlist","text":"<p>The masterlist displays every character that exists on the site, based on the character's visibility settings. It provides a number of search and sorting features, as well as a toggle between grid and list views. The character masterlist is essentially the same as the MYO slot masterlist, with a few differences that will be noted below.</p>"},{"location":"features/masterlist/#display","title":"Display","text":"<p>Characters that are listed as visible to the public are listed on the masterlist page, which is paginated. Users with the Manage Masterlist power will additionally see characters that are not visible, marked with an eye icon in front of the character's code.</p> <p>By default, the masterlist is shown in grid mode - all characters will be displayed as their thumbnails, listing their character code (if a character), name (if assigned by the user, or is a MYO slot), species, rarity and owner.</p> <p>In list mode, characters are listed without images, in table form, showing the information above as well as the character's date of creation.</p> <p>The grey buttons under the search button can be clicked to switch between modes. This preference is remembered by your Internet browser and will persist if you use the same browser to access the page again.</p>"},{"location":"features/masterlist/#searching","title":"Searching","text":"<p>The following search conditions can be set:</p> <ul> <li>Character name (user-assigned) OR character code</li> <li>Rarity</li> <li>Species</li> <li>Category</li> <li>Owner name</li> <li>Artist alias</li> <li>Designer alias</li> <li>Minimum resale price</li> <li>Maximum resale price</li> <li>Trading status (user-assigned)</li> <li>Gift art status (user-assigned)</li> <li>Can be resold</li> <li>Can be traded</li> <li>Can be gifted</li> <li>Trait selection (AND selection)</li> </ul> <p>Additionally, an option to search through all character images, including ones that are no longer valid, can be toggled for the options shown in red. Only images visible to the user will be searched.</p> <p>The MYO slot masterlist presents the same search options except for the category selection.</p>"},{"location":"features/masterlist/#sorting","title":"Sorting","text":"<p>The following sort orders can be specified:</p> <ul> <li>Newest first (default)</li> <li>Oldest first</li> <li>Highest sale value</li> <li>Lowest sale value</li> </ul> <p>Note that \"newest\" and \"oldest\" are dependent on characters and are not influenced by character images. Additionally, characters that cannot be resold have a default value of $0 and will appear at the front of the list.</p>"},{"location":"features/masterlist/#see-also","title":"See Also","text":"<ul> <li>Characters</li> <li>MYO Slots</li> </ul>"},{"location":"features/myo-slots/","title":"MYO Slots","text":"<p>MYO slots are a resource that can be attached to user accounts. MYO slots are \"lesser\" versions of characters with more restrictions on how they can be used with site features - they are not considered full characters until they have been submitted for design approval and approved. They can be edited in the admin panel by users with the Manage Masterlist power.</p>"},{"location":"features/myo-slots/#usage","title":"Usage","text":"<p>All MYO slots are listed on the MYO slot masterlist, which is separate from the character masterlist.</p> <p>MYO slots cannot hold currency and cannot be used to participate in prompts. If the gift/resale/trade options are configured to allow it, they can be transferred/traded. They can be converted into full characters through the design updates system. For more information, please refer to the respective pages.</p> <p>Users are able to edit a section of their MYO slot's profile, and list their character as being available for trade. This section also includes a text field that allows HTML.</p>"},{"location":"features/myo-slots/#editing","title":"Editing","text":"<p>Similar to full characters, MYO slots are set up in a manner such that traits, species, rarity and other specific details about the character tied to its current design are linked to images rather than the MYO slot itself. When the MYO slot's design is approved, the record of its original conditions (rarity, species, required traits etc.) are preserved as an image. This section will cover only the information attached to the MYO slot itself - for more information on character images, please see the Character Images page.</p> <p>MYO slots have the following properties:</p> <ul> <li>Name</li> <li>Owner</li> <li>Owner Alias</li> <li>Description</li> <li>Is Visible</li> <li>Is Giftable</li> <li>Is Tradeable</li> <li>Is Resellable</li> <li>On Transfer Cooldown Until</li> </ul> <p>The Name is used on the MYO slot masterlist. As MYO slots do not have a category/number and character code yet, this name will be displayed on pages where the MYO slot is listed. This name is not editable by the owner. Using a descriptive name like \"Rare MYO Slot\" is recommended.</p> <p>The Owner is the user on-site who owns the slot. This field can be left blank if the owner has not registered for an account, and the following field has been filled in.</p> <p>The Owner Alias is the deviantART account name of the user who owns the slot. If the Owner field is filled in, this field will be ignored. In the future, if the owner registers for the site, any MYO slots listed under their deviantART name will automatically be attached to their account. Note that if the user has since changed their dA username, this will not happen (slots have to be transferred to their new site account manually).</p> <p>The Description field allows for a custom description to be entered. This can be left blank if no further information is required. Suggestions for content include: specifics on how the slot was obtained, etc.</p> <p>Is Visible controls whether the slot is displayed on the MYO slot masterlist. If set to not visible, the slot will only be visible to users with the Manage Masterlist power (even the owner cannot see it without the power).</p> <p>Is Giftable, Is Tradeable, Is Resellable are toggles that display the respective information prominently on the slot's profile. This is largely cosmetic as the site cannot tell what a slot is being sold/traded for. However, the following effects will apply:</p> <ul> <li>If all toggles are off, the slot is account-bound - it cannot be transferred by the user directly, and cannot be attached to trades. Only users with the Manage Masterlist power can force a transfer.</li> <li>If the slot is not tradeable or resellable, the user will not be able to toggle the Up For Trade option in the slot's profile (which is a searchable option on the masterlist).</li> </ul> <p>Resale Value is a field that appears if the slot is marked as resellable. The dollar value of the slot can be set, which will be displayed on the slot's profile. This is cosmetic, and purely for reference.</p> <p>On Transfer Cooldown Until causes temporary account binding until the selected date/time. Until the cooldown time has been reached, the owner will not be able to directly transfer the slot or attach it to a trade. It is possible to automatically set the cooldown date to x number of days (default: 3) when a user makes a transfer - please see Site Settings for more information.</p>"},{"location":"features/myo-slots/#user-editable-profile","title":"User-editable Profile","text":"<p>After a slot has been created, its profile can be edited by the owner or users with the Manage Masterlist power. The following properties can be modified by the user:</p> <ul> <li>Profile Content</li> <li>Up For Trade</li> </ul> <p>Profile Content is a section that allows HTML content to be entered.</p> <p>Up For Trade is a toggle that denotes if the slot's owner wants to trade the slot. Similarly, this toggle can also be searched on the masterlist. This cannot be edited by anyone other than the owner.</p> <p>Additionally, for users who are not the owner (has the required power), a Notify User toggle is present. If left on, the owner of the slot will be notified that their slot's profile has been edited (implied: for moderation purposes). Regardless of the status of the toggle, owners of non-visible slots will not be notified.</p>"},{"location":"features/myo-slots/#logs","title":"Logs","text":"<p>Unlike characters, MYO slots do not have an image gallery (new images cannot be uploaded until it becomes a full character) and have no submission/currency logs as they cannot be submitted in prompts/hold currency. MYO slots have only 2 types of logs: the change log and ownership history log.</p> <p>Change Log: This log specifically logs changes to the slot and its images. It lists the specific fields updated, who made the edits, as well as the date of editing.</p> <p>Ownership History: This log tracks the transfer of the slot between different users, noting the sender, recipient, log information as well as the date. This is similar to the ownership history log that a user also possesses, but specifically monitors the slot only.</p>"},{"location":"features/myo-slots/#transfers","title":"Transfers","text":"<p>MYO slots may change hands in 3 ways:</p> <ul> <li>User-initiated transfer</li> <li>Staff-initiated transfer (a forced transfer)</li> <li>Trades</li> </ul> <p>Transfers may be monitored by changing the <code>open_transfers_queue</code> site setting to 1. This will place all MYO slot transfers and trades containing slots into a queue, and must be approved by a staff member before the transfer is completed.</p> <p>User-initiated transfers are a unidirectional transfer from sender to recipient. The recipient is required to accept before they can receive the slot. If the transfer queue is closed, the recipient will receive the slot immediately upon accepting the transfer.</p> <p>For trades, please see the trades article.</p>"},{"location":"features/myo-slots/#transfers-queue","title":"Transfers Queue","text":"<p>The transfers queue has separate sections for transfers and trades; however, both work similarly. The contents of each transfer or trade can be reviewed by the staff member, and approved or rejected.</p> <p>On clicking Approve, the staff member will have the option of adding a cooldown period (number of days) to each character involved. This field is prefilled with the default number in site settings and can be modified to be more or less than the default, and applied immediately after approval. The transfer or trade is processed immediately after clicking Approve on this modal.</p> <p>If the transfer is rejected, a comment can be added, which will be visible to the 2 users iinvolved.</p>"},{"location":"features/myo-slots/#see-also","title":"See Also","text":"<ul> <li>Characters</li> <li>Character Images</li> <li>Masterlist</li> <li>Trades</li> <li>User Accounts</li> </ul>"},{"location":"features/news/","title":"News","text":"<p>News are a form of text post that can be used to alert all users to important information. They can be edited in the admin panel by users with the Edit Text Pages power.</p>"},{"location":"features/news/#usage","title":"Usage","text":"<p>News posts can be created in the admin panel and viewed on the news page. The news page lists news posts ordered by newest first. When a new post is made, all users will gain an alert at the top of every page notifying them of the new post. This alert disappears when the news page is viewed.</p> <p>News posts can be scheduled to post at certain times. Note that this posting is handled via crontab scheduling, and therefore may not be entirely accurate to the minute.</p>"},{"location":"features/news/#editing","title":"Editing","text":"<p>News posts have the following properties:</p> <p>Title Post Time Post Content (accepts HTML)</p> <p>Title is the title of the news post.</p> <p>Post Time is optional, and schedules the post to be posted after a certain date/time. If not set, the news post will be posted immediately.</p> <p>Post Content is the content of the news post itself. HTML is allowed. The File Manager can be used to upload images to be inserted into news posts if desired.</p>"},{"location":"features/news/#see-also","title":"See Also","text":"<ul> <li>Site Pages</li> </ul>"},{"location":"features/notifications/","title":"Notifications","text":"<p>Logged in users have a notifications page, which lists notifications for important events that may require their attention.</p>"},{"location":"features/notifications/#usage","title":"Usage","text":"<p>Notifications include any pertinent links, as well as a timestamp for when the event occurred.</p> <p>New notifications are displayed as a counter in the navigation bar, which goes away once the notifications page is viewed. New notifications are highlighted with a differently-coloured background when viewed at this time.</p> <p>Notifications can be cleared individually by clicking the x on the right of the notification, or by clicking the clear all button to remove all existing notifications.</p>"},{"location":"features/notifications/#events","title":"Events","text":"<p>This is a list of all events for which the user will be notified by default:</p> <ul> <li>User has received a currency grant from staff</li> <li>User has received an item grant from staff</li> <li>User has had currency removed by staff</li> <li>User has had an item removed by staff</li> <li>User has received a currency transfer from another user</li> <li>User has received an item transfer from another user</li> <li>User has received an item transfer from another user, forced by staff</li> <li>Staff has uploaded a character for the user</li> <li>Staff has granted one of user\u2019s characters currency</li> <li>Staff has removed currency from one of user\u2019s characters</li> <li>Staff has edited the profile of one of user\u2019s characters</li> <li>Staff has uploaded an image for one of user\u2019s characters</li> <li>User has received a character transfer</li> <li>Recipient of user-initiated character transfer has rejected the transfer</li> <li>Sender of user-initiated character transfer has cancelled the transfer</li> <li>Staff has denied a character transfer involving the user</li> <li>Recipient of character transfer has accepted the transfer</li> <li>Staff has approved a character transfer</li> <li>Staff has forced a character transfer on one of the user\u2019s characters</li> <li>User has received a forced character transfer</li> <li>Prompt submission by the user has been approved by staff</li> <li>Prompt submission by the user has been rejected by staff</li> <li>Claim submission by the user has been approved by staff</li> <li>Claim submission by the user has been rejected by staff</li> <li>User has received a MYO slot grant by staff</li> <li>Design update submission by the user has been approved</li> <li>Design update submission by the user has been rejected</li> <li>Design update submission by the user has been cancelled</li> <li>User has received a trade</li> <li>User\u2019s trade partner has updated and confirmed their half of a trade</li> <li>User\u2019s trade partner has cancelled a trade</li> <li>A Trade involving the user has been completed</li> <li>A trade involving the user has been rejected</li> <li>A trade involving the user has been confirmed</li> <li>A character the user has bookmarked has had its trading status updated</li> <li>A character the user has bookmarked has had its gift art allowed status updated</li> <li>A character the user has bookmarked has been transferred to another user</li> <li>A character the user has bookmarked has had a new image uploaded</li> </ul>"},{"location":"features/notifications/#see-also","title":"See Also","text":"<ul> <li>User Accounts</li> <li>Characters</li> <li>Config Files</li> </ul>"},{"location":"features/prompts/","title":"Prompts","text":"<p>Prompts are a submission type that accepts user submissions into a queue and distributes rewards when approved. They can be edited in the admin panel by users with the Edit World Data power. See Claims for collecting rewards that do not have a prompt specified.</p>"},{"location":"features/prompts/#usage","title":"Usage","text":"<p>This section pertains to the general purpose and usage of the prompt index page. See the Submission section below for more information on submitting prompts.</p> <p>Prompts can be accessed from the navigation bar, under the World dropdown. The prompt index lists all visible prompts, sorted by category order, and can be further filtered by the following:</p> <ul> <li>Name</li> <li>Category</li> </ul> <p>Additionally, prompts can be sorted by:</p> <ul> <li>Name (alphabetical order)</li> <li>Category</li> <li>Newest First (creation date)</li> <li>Oldest First</li> <li>Starts Earliest</li> <li>Starts Latest</li> <li>Ends Earliest</li> <li>Ends Latest</li> </ul> <p>Each prompt lists the following:</p> <ul> <li>Name</li> <li>Start date (if applicable)</li> <li>End date (if applicable)</li> <li>Summary</li> <li>Details (collapsed)</li> <li>Rewards</li> <li>Button for submission (if allowed)</li> </ul> <p>Prompts can only be submitted between the start and end dates if either or both of those dates are specified. Clicking the Submit Prompt button goes to the prompt submission page with the prompt already selected.</p>"},{"location":"features/prompts/#editing","title":"Editing","text":"<p>This section pertains to the editing of prompt categories and prompts. See the Approval Queue section below for more information on the approval queue.</p>"},{"location":"features/prompts/#categories","title":"Categories","text":"<p>Editing prompt categories and prompts requires the Edit World Data power. Note that this power alone does not allow the user to view and process the submission queue.</p> <p>Prompt categories can be created in the admin panel, with the usual category properties:</p> <ul> <li>Name</li> <li>World Page Image</li> <li>Description (accepts HTML)</li> </ul> <p>The image and description are displayed only on the world page. Besides being used to organise prompts on the prompt submission page, submissions in the approval queue can also be filtered by category, which can be used to help distribute moderation work.</p>"},{"location":"features/prompts/#prompts_1","title":"Prompts","text":"<p>Prompts themselves have the following properties:</p> <ul> <li>Name</li> <li>Prompt Category</li> <li>Summary (no HTML)</li> <li>Description (accepts HTML)</li> <li>Start Time</li> <li>End Time</li> <li>Hide Before Start Time</li> <li>Hide After End Time</li> <li>Is Active</li> </ul> <p>Name is the prompt name which is displayed on the prompt index.</p> <p>Prompt Category is the category to which the prompt falls under, and used for organisation.</p> <p>Summary is a short blurb about the prompt that is immediately visible on the prompt index. This is intended to be just a concise one-liner that gives users a rough idea of what the prompt is about.</p> <p>Description is a longer description about the prompt. Details and specifications about the prompt requirements can be described in greater detail here. It accepts HTML, so you can insert images.</p> <p>Start Time and End Time note the period during which the prompt can be submitted. Both are optional, and you can also specify only one of them.</p> <p>Hide Before Start Time and Hide After End Time additionally prevent the prompt from showing on the index when it cannot be submitted to. This is useful, for example, if you would like to keep event prompts secret until the event is live.</p> <p>Is Active toggles the visibility of the prompt altogether. This overrides the hiding options - if this is set to not active, the prompt will never show on the index.</p>"},{"location":"features/prompts/#rewards","title":"Rewards","text":"<p>The rewards section allows you to attach some default rewards to the prompt. Users will not be able to edit these rewards during submission.</p> <p>You can attach any of the following, specifying a quantity:</p> <ul> <li>Item</li> <li>Currency</li> <li>Loot table</li> </ul> <p>Note that loot table quantity rolls the table x times, and not the rewards from 1 roll multiplied by x. Only the display name of the loot table will be shown - users will not see the internal name of the table, nor the contents/odds of rolling.</p> <p>These rewards are not permanent and can be edited during approval time.</p>"},{"location":"features/prompts/#submission","title":"Submission","text":"<p>Responses to prompts can be submitted from the prompt submission page. A quick link is also available from the submit dropdown on the right hand side of the nav bar.</p> <p>A prompt submission requires:</p> <ul> <li>Prompt</li> <li>Submission URL</li> <li>Comments (no HTML; accepts line breaks)</li> <li>Rewards</li> </ul> <p>Prompt is the prompt that is being responded to. If the submit button on the prompts page is clicked, this field will already have been filled.</p> <p>Submission URL is the link to a page containing the material to be reviewed for prompt submission. This is expected to be something like a dA submission or sta.sh link, but can be anything relevant.</p> <p>Comments are optional. This space could be used for, for example, entering calculations for tiered rewards. Line breaks will be preserved, but HTML will not be rendered.</p>"},{"location":"features/prompts/#rewards_1","title":"Rewards","text":"<p>The rewards section allows the user to select additional rewards. They can choose to add any of:</p> <ul> <li>Items</li> <li>Currencies</li> </ul> <p>Loot tables cannot be selected. This selection is added on top of the default rewards, which are also displayed below the reward selection area.</p>"},{"location":"features/prompts/#characters","title":"Characters","text":"<p>The characters section allows the user to add characters to their submission. Inputs are:</p> <ul> <li>Character Code</li> <li>Rewards</li> </ul> <p>Character Code refers to the character's unique identification code.</p> <p>Rewards function much like the user selected rewards, but only currencies can be selected, and these rewards will be credited directly to the character on approval.</p>"},{"location":"features/prompts/#submission_1","title":"Submission","text":"<p>Submissions submitted to the approval queue cannot be edited by the user. The submission will have its own page containing all submitted information - this will not be visible to any users besides the submitter and users with the Manage Submissions power until it is approved.</p>"},{"location":"features/prompts/#approval-queue","title":"Approval Queue","text":"<p>Users with the Manage Submissions power can view the queue, edit rewards and approve/reject submissions.</p> <p>The prompt approval queue consists of lists of submissions filtered by status, ordered by newest first. Submissions can be further filtered by prompt category. Pending submissions can be acted upon, while approved and rejected submissions are for reference only.</p> <p>Clicking the edit button takes the user to the submission review page, where they can edit the rewards attached to the submission.</p>"},{"location":"features/prompts/#rewards_2","title":"Rewards","text":"<p>The user rewards section lists the combined default rewards and any additional rewards the user may have selected. Please take care when checking that the rewards are appropriate for the submission, as the user may have added something extra! A list of the default rewards is displayed for reference. The selectable area contains everything the user will receive when their submission is approved.</p> <p>The character rewards section lists the characters and rewards the user has added that will be given to the selected characters. More characters can be added as well.</p>"},{"location":"features/prompts/#processing","title":"Processing","text":"<p>The submission can be approved or rejected using the buttons at the bottom. Clicking either will notify the user that their submission has been processed.</p> <p>In the case of approval, any attached rewards will be automatically distributed to the user and characters. The submission page will become publicly visible.</p> <p>In the case of rejection, a comment can be provided to the user. This can be used to inform the user about why their submission was rejected. HTML cannot be used, and the reason will be displayed on the submission page. The submission page remains hidden to users other than staff with the Manage Submissions power and the submitter themselves.</p>"},{"location":"features/prompts/#logging","title":"Logging","text":"<p>A list of prompt/claim submissions a user has made is linked from their user profile. Similarly, characters also have a page that lists prompts/claims they have been submitted for rewards in.</p>"},{"location":"features/prompts/#see-also","title":"See Also","text":"<ul> <li>Characters</li> <li>Claims</li> </ul>"},{"location":"features/raffles/","title":"Raffles","text":"<p>Raffles can be managed on the site with a feature that tracks tickets and rolls consecutive raffles automatically. They can be edited and rolled in the admin panel by users with the Manage Raffles power.</p>"},{"location":"features/raffles/#usage","title":"Usage","text":"<p>Raffles can be rolled one-by-one, or in groups. When an entire raffle group is rolled, the raffles in the group are rolled in order, and any winners removed from later raffles. Raffles cannot be rerolled, and do not automatically distribute prizes.</p> <p>The raffle page lists all raffles, grouped by raffle groups, with non-grouped raffles at the top of the list. Each raffle can be clicked to view the raffle\u2019s tickets.</p> <p>On the individual raffle page, the raffle name, number of winners, number of tickets and paginated list of tickets are listed. If the user is logged in, they will also see how many tickets they hold, and if winners have been drawn, a table of winners is also displayed.</p> <p>Tickets can be credited to both on-site users as well as deviantART users by username (alias). One user can have multiple tickets; each ticket counts as a single chance in the raffle. Each ticket has an equal chance to be rolled.</p> <p>In the admin panel, when a raffle is clicked, the site will display the tickets entered in the raffle for editing. Tickets are displayed 200 to a page and numbered consecutively. The number is not bound to the ticket and can change when tickets are deleted, so there will not be any skipping of numbers.</p>"},{"location":"features/raffles/#editing","title":"Editing","text":""},{"location":"features/raffles/#raffle-groups","title":"Raffle Groups","text":"<p>Raffle groups have the following properties:</p> <ul> <li>Group Name</li> <li>Active</li> </ul> <p>Group Name is the name of the raffle group. This name does not have to be unique.</p> <p>The Active setting controls if the raffle group is visible to users.</p>"},{"location":"features/raffles/#raffles_1","title":"Raffles","text":"<p>Raffles have the following properties:</p> <ul> <li>Raffle Name</li> <li>Number of Winners to Draw</li> <li>Raffle Group</li> <li>Raffle Order</li> <li>Active</li> </ul> <p>Raffle Name is the name of the raffle. This name does not have to be unique.</p> <p>Number of Winners to Draw is the number of winning tickets to draw. The same user cannot win the same raffle twice. In the event that there are fewer unique users in the raffle than winners drawn, only the number of unique users will be drawn.</p> <p>Raffle Group is the group that the raffle is grouped under.</p> <p>Raffle Order is the order in which the raffle will be drawn, if the raffle is part of a group that will be rolled together. The lower the number, the earlier it will be drawn - e.g. a raffle numbered 1 will be drawn before a raffle numbered 2, and so on.</p> <p>The Active setting controls if the raffle is visible to users.</p>"},{"location":"features/raffles/#tickets","title":"Tickets","text":"<p>The ticket index allows adding tickets with a single text field:</p> <ul> <li>Names</li> </ul> <p>Names should be entered into this field, separated by commas. Spaces will be removed. 1 name counts for 1 ticket, and duplicates of the same name can be entered to give the same user multiple tickets. These names will first be matched to usernames on the site, and if no match is found, it will label the ticket with the deviantART account of that name.</p>"},{"location":"features/raffles/#see-also","title":"See Also","text":"<ul> <li>User Accounts</li> <li>How Random is Random?</li> </ul>"},{"location":"features/randomness/","title":"How Random is Random?","text":"<p>Now... as with any use of RNG in games, users tend to treat distribution of rewards with suspicion, especially if they get a string of bad rolls. I decided it would probably be important to preemptively write this section to discuss the random number generation portion, as the same questions and issues tend to show up, and are often based on having only a partial understanding of random number generation.</p> <p>As a disclaimer: I do not have in-depth knowledge of cryptography and cannot advise in that direction (which is out of the scope of this section, anyway).</p> <p>The generated random numbers are not truly random. The results are predictable, given the right conditions.</p> <p>Fact, but only half of the story.</p> <p>For people to enjoy the game, numbers generated must use 100% cryptographically secure random number generation for fairness.</p> <p>Myth, primarily regarding \"fairness\".</p> <p>From these statements, we can see there are 2 separate issues that people are concerned with:</p> <ol> <li>That users with the technical knowledge may be able to exploit the system to their advantage</li> <li>That the numbers generated are inherently skewed in some way or the other so as to favour certain rolls</li> </ol> <p>Let\u2019s address these by looking at how numbers are rolled.</p>"},{"location":"features/randomness/#how-are-random-numbers-generated","title":"How are random numbers generated?","text":"<p>Lorekeeper uses the built-in PHP function <code>mt_rand()</code> to generate numbers used for rolling rewards. The function uses the Mersenne Twister algorithm to generate numbers\u2026which may be a familiar name if you play competitive Pokemon, as it's also the algorithm used in the game. For those who are unfamiliar: in the older versions of Pokemon, before features to make competitive battling accessible, serious players (and rare Pokemon collectors) would exploit the random number generation in the game to generate Pokemon with the exact stats and shininess they wanted. As you might realise... yes, this theoretically means you could do something similar.</p> <p>There is a very big caveat, though, in that you need to have specific information in order to do it. In a Pokemon game, you have access to the entire game and your own game console. In a game running on someone else\u2019s web server, a lot of the details are out of your reach.</p> <p>Going a bit further into detail: random number generators, surprisingly, are not random. (Thus, they're more accurately called pseudo-random number generators.) An algorithm will always produce the same output given the same input. That\u2019s one of the foundations of mathematics. It's how you can take someone\u2019s Minecraft seed and generate exactly the same world on your computer. That concept, the \u201cseed\u201d is the important part - it\u2019s the input that generates the predictable output, and if you know both the seed and algorithm, you can know the outcome.</p> <p>How difficult is it to find the seed, then? Well, it happens that PHP's code is available online and the question has come up before. The seed value is a function of the current timestamp, the PHP process PID and a value produced by PHP's internal LCG.<sup>1</sup> In simpler terms, anyone looking to exploit this would need 1. to know when exactly the number will be rolled, 2. to know some details that are known only to someone with access to the server/website setup, 3. a certain amount of data. 1 and 2 in particular are going to be unpredictable - the first requires knowing when exactly (to the second) your mods will approve a submission for example, and the second requires being able to run commands on your server (yikes!!!!!) and knowing how your loot tables are set up. Information could be gained from monitoring randomised data to reverse engineer some information about the MT - which, again, will probably tell nothing without knowledge of how the site data is set up.</p> <p>I won't say it's entirely uncrackable - but if you do have someone with that amount of knowledge, determination and time to spend cracking your game, I feel you may have significantly bigger problems than game balance. Effectively speaking, in terms of monetary value of time vs monetary value of potential rewards to be gained, the odds that someone would jump through all these hoops to predict your game's rolls are extremely low.</p>"},{"location":"features/randomness/#fairness-of-rolls","title":"Fairness of Rolls","text":"<p>I don't think the actual issue is that people think the RNG is broken because it keeps rolling the same result. It's probably that it keeps rolling the same negative result. Nevertheless, the uniformity of rolls can be fairly easily verified: rolling a large enough pool of numbers and counting how often each one shows up will yield a spread that shows that none of them are significantly more likely to be rolled than any other.</p> <p>The verification can be done by yourself in simple PHP - roll a million numbers from, say, 0 to 9 and output the counts. Paste this code here for a quick test.</p> <pre><code>$numbers = array_fill(0, 10, 0);\nfor ($i = 0; $i &lt; 1000000; $i++) {\n    $numbers[mt_rand(0, 9)]++;\n}\nforeach($numbers as $number=&gt;$count) {\n    echo \"Rolled {$number}: {$count} times&lt;br /&gt;\";\n}\n</code></pre> <p>Each number will be rolled close to 100000 times. The deviation is not particularly significant, and the significance decreases the more times you roll. On the other hand, the fewer times you roll, the more likely it is that you get results that look skewed.</p> <p>The important thing to note is that someone rolling a bad result 10 times in a row is not indicative of the code being buggy - unlikely as 10 consecutive fails at a 50% rate is, a possibility is still a possibility. That's how probability works - if you roll bad results you're not necessarily due for something good in the near future, but in the big scheme of things, it'll even itself out eventually.</p>"},{"location":"features/randomness/#conclusion","title":"Conclusion","text":"<p>In the context of a small game, for the purposes Lorekeeper was intended for, a cryptographically secure random number generator would not be noticeably better than PHP's built-in, non-cryptographically-secure <code>mt_rand()</code> if at all. Yes, the MT has its failings, and there are a number of very valid points on which it can be considered a \"bad\" pseudo-random number generator. However, just like in social situations, context is important, and in this context none of these points concern 1. your credit card number 2. any perceivable advantage someone may stand to gain in a reasonable amount of time with a reasonable amount of misguided effort. So, for our purposes... yes, the generated results are sufficiently random.</p> <ol> <li> <p>How is PHP's mt_rand seeded? - Stack Overflow \u21a9</p> </li> </ol>"},{"location":"features/rarities/","title":"Rarities","text":"<p>Rarities are a characteristic that is assigned to both traits and characters. They can be edited in the admin panel by users with the Edit World Data power.</p>"},{"location":"features/rarities/#usage","title":"Usage","text":"<p>Rarities are assigned to characters and traits upon creation. Staff can cap the maximum rarity of selectable traits for a MYO slot by selecting a rarity during MYO slot creation, but the rarity of a character is otherwise not strictly linked to its traits.</p> <p>Traits and characters can be filtered by rarity on the world page and masterlist pages respectively.</p>"},{"location":"features/rarities/#editing","title":"Editing","text":"<p>Rarities have the following properties:</p> <ul> <li>Name</li> <li>Colour (hexadecimal code)</li> <li>World Page Image</li> <li>Description (accepts HTML)</li> </ul> <p>Name is the rarity's name.</p> <p>Colour is colour used to represent this rarity. It is used to colour the rarity's name as a visual aid.</p> <p>The World Page Image is shown in the encyclopedia, and nowhere else. As with all encyclopedia images, the recommended size is 200 x 200 pixels, but can be any size.</p> <p>Description is a description of the rarity for the encyclopedia page.</p> <p>Additionally, the hierarchy of rarities can be edited from the Rarities index page. This order affects the display order on the encyclopedia page, and which rarities are considered rarer than others.</p>"},{"location":"features/rarities/#see-also","title":"See Also","text":"<ul> <li>Characters</li> <li>Traits</li> </ul>"},{"location":"features/shops/","title":"Shops","text":"<p>Shops are pages from which users can spend currency to purchase items. They can be edited in the admin panel by users with the Edit World Data power.</p>"},{"location":"features/shops/#usage","title":"Usage","text":"<p>Shops listed on the shop index can be clicked to view the shop's contents, including the shop image, flavour text and shop stock.</p> <p>Shop stock is categorised by the items' item categories. Each item lists:</p> <ul> <li>Item name</li> <li>Cost and currency</li> <li>Available stock (if applicable)</li> <li>Purchase limit (if applicable)</li> </ul> <p>Note that items with 0 stock are still listed in the shop.</p> <p>Clicking on the item brings up the purchase modal. If the item can be purchased, the user is given the option to purchase the item.</p> <p>The option to use the user's bank or a character's bank may be provided. In the latter case, a character's code (must be owned by the user) can be entered, and currency will be deducted from the character's bank instead. The item is deposited in the user's inventory, and the code of the purchasing character is noted in the item's source information. This makes it possible, for example, to have users purchase items for design updates that must be used specifically on the character that purchased it.</p> <p>A purchase log is available for every user, linked in the shops sidebar, as a quick reference for their own recent purchases.</p>"},{"location":"features/shops/#editing","title":"Editing","text":"<p>Shops have the following properties:</p> <ul> <li>Name</li> <li>Shop Image</li> <li>Description (accepts HTML)</li> <li>Set Active</li> </ul> <p>Name is the name of the shop, as shown in the shop index and on the shop's page.</p> <p>The Shop Image is the image used to represent the shop on the shop index and is also displayed at the top of the shop's page.</p> <p>Description is displayed underneath the shop image on the shop's page. It can be used, for example, to provide helpful information about the shop, or add additional flavour text.</p> <p>Set Active affects whether or not the shop is visible on the shop index. If set to false, it will not be shown on the shop index and cannot be accessed by anyone.</p> <p>Shop display order can be edited on the admin panel shop index page.</p>"},{"location":"features/shops/#shop-stock","title":"Shop Stock","text":"<p>Shop stock is editable after a shop is created. Each shop stock has the following properties:</p> <ul> <li>Item</li> <li>Cost (quantity and currency)</li> <li>Use User Bank</li> <li>Use Character Bank</li> <li>Set Limited Stock<ul> <li>Quantity</li> </ul> </li> <li>User Purchase Limit</li> </ul> <p>Item is the item to be sold. Only items can be sold in shops.</p> <p>Cost is the price of the item. A value and currency must be selected.</p> <p>Use User Bank and Use Character Bank determine if the user has the option to use either for purchase. For the item to be purchasable, the bank type has to correspond to whether users and/or characters can own that currency. (e.g. If a user cannot own the currency but only \"Use User Bank\" is enabled, the item cannot be purchased at all from the shop.)</p> <p>Set Limited Stock and Quantity allows only a specific amount of the item to be made available for purchase. The quantity will go down as items are purchased from the shop. As mentioned above, items with 0 quantity will still be displayed in the shop as an indicator that the item was purchased, but is now sold out. If limited stock is not enabled, the item will have infinite stock.</p> <p>User Purchase Limit limits the number of that stock the user can purchase from that particular shop. The limit cannot be circumvented - even if the stock record is deleted and the item is re-added to the shop, the limit still applies. However, if the same item is added to a different shop, it can be purchased.</p>"},{"location":"features/shops/#see-also","title":"See Also","text":"<ul> <li>Items</li> <li>Currencies</li> </ul>"},{"location":"features/site-images/","title":"Site Images","text":"<p>Site Images is a feature in the admin panel that is used to replace the images used in the site layout. It also provides an upload for a CSS file that can be used to insert CSS into the site layout without editing the site code directly. This page can be used by users with the Edit Site Settings power.</p>"},{"location":"features/site-images/#usage","title":"Usage","text":"<p>The Site Images page provides uploads for the following images:</p> <ul> <li>Header Image</li> <li>Characters Icon</li> <li>Account Icon</li> <li>Inventory Icon</li> <li>Currency Icon</li> <li>MYO Default Image</li> <li>MYO Default Image (Thumbnail)</li> </ul> <p>Header Image: The header banner displayed at the top of the page. PNG format, default height of 200px. Tiles in both directions.</p> <p>Characters Icon: The characters graphic on the front page. PNG format, default size of 200px x 200px (no restriction).</p> <p>Account Icon: The account graphic on the front page. PNG format, default size of 200px x 200px (no restriction).</p> <p>Inventory Icon: The inventory graphic on the front page. PNG format, default size of 200px x 200px (no restriction).</p> <p>Currency Icon: The bank graphic on the front page. PNG format, default size of 200px x 200px (no restriction).</p> <p>MYO Default Image: The default image used for MYO slots when no image is uploaded. PNG format, no size restriction.</p> <p>MYO Default Image (Thumbnail): The default masterlist thumbnail used for MYO slots when no image is uploaded. PNG format, size of masterlist thumbnails.</p> <p>Additionally, there is an upload under the heading Site CSS. This file will be included after all other CSS files that are added to the page. Reuploading the file will replace the original.</p>"},{"location":"features/site-images/#editing","title":"Editing","text":"<p>A single upload is presented for each. The \"View Current\" button can be clicked to visit the URL of the file, though previews of each image are given next to each field.</p> <p>On the command line, the following command can be run to overwrite uploaded images with the default ones. This command also works to copy default images over when none are present.</p> <pre><code>php artisan copy-default-images\n</code></pre> <p>Maximum image file sizes are subject to as specified in <code>php.ini</code> on your server - if your image is failing to upload, it may be too large. (Large images are not recommended either, as this will consume large amounts of bandwidth on each page load.)</p>"},{"location":"features/site-images/#see-also","title":"See Also","text":"<ul> <li>Site Settings</li> <li>File Manager</li> </ul>"},{"location":"features/site-pages/","title":"Site Pages","text":"<p>Site pages are dynamically created pages that can be created and edited in the admin panel (requires the Edit Pages power).</p>"},{"location":"features/site-pages/#editing","title":"Editing","text":"<p>Pages require a title, unique key, content and viewable setting. Each page can be accessed from <code>(site-url)/info/{key}</code>, which displays the title, date of creation, date of last update and content, assuming that the page is set to viewable.</p> <p>Page content can contain HTML, but cannot contain Javascript.</p>"},{"location":"features/site-pages/#default-pages","title":"Default Pages","text":"<p>A few default pages are added during setup. These pages cannot be deleted, but are otherwise editable the same way (title and key can be edited).</p> <p>These pages are:</p> <ul> <li>About</li> <li>Privacy Policy</li> <li>Terms of Service</li> </ul>"},{"location":"features/site-pages/#see-also","title":"See Also","text":"<ul> <li>Site Settings</li> <li>News</li> </ul>"},{"location":"features/site-settings/","title":"Site Settings","text":"<p>Site settings are editable in the admin panel (requires the Edit Site Settings power).</p>"},{"location":"features/site-settings/#settings","title":"Settings","text":"<p>These are the site settings that are added by default during setup.</p>"},{"location":"features/site-settings/#blacklist_key","title":"blacklist_key","text":"<p>Optional key to view the blacklist. Enter \"0\" to not require one.</p> <p>Default value: 0</p> <p>Info</p> <p>This is a password for the blacklist page (if the page is made available for viewing). Note that this is not a very secure method of protecting the blacklist, and is primarily intended for temporary use.</p>"},{"location":"features/site-settings/#blacklist_link","title":"blacklist_link","text":"<p>0: No link to the blacklist is displayed anywhere, 1: Link to the blacklist is shown on the user list.</p> <p>Default value: 1</p>"},{"location":"features/site-settings/#blacklist_privacy","title":"blacklist_privacy","text":"<p>Who can view the blacklist? 0: Admin only, 1: Staff only, 2: Members only, 3: Public.</p> <p>Default value: 1</p>"},{"location":"features/site-settings/#is_claims_open","title":"is_claims_open","text":"<p>0: New claims cannot be made (mods can work on the queue still), 1: Claims are submittable.</p> <p>Default value: 1</p>"},{"location":"features/site-settings/#is_design_updates_open","title":"is_design_updates_open","text":"<p>0: Characters cannot be submitted for design update approval, 1: Characters can be submitted for design update approval.</p> <p>Default value: 1</p>"},{"location":"features/site-settings/#is_myos_open","title":"is_myos_open","text":"<p>0: MYO slots cannot be submitted for design approval, 1: MYO slots can be submitted for approval.</p> <p>Default value: 1</p>"},{"location":"features/site-settings/#is_prompts_open","title":"is_prompts_open","text":"<p>0: New prompt submissions cannot be made (mods can work on the queue still), 1: Prompts are submittable.</p> <p>Default value: 1</p>"},{"location":"features/site-settings/#is_registration_open","title":"is_registration_open","text":"<p>0: Registration closed, 1: Registration open. When registration is closed, invitation keys can still be used to register.</p> <p>Default value: 1</p>"},{"location":"features/site-settings/#open_transfers_queue","title":"open_transfers_queue","text":"<p>0: Character transfers do not need mod approval, 1: Transfers must be approved by a mod.</p> <p>Default value: 1</p> <p>Info</p> <p>If set to 1, transfers and trades will go through the usual mutual acknowledge/accept process, then get placed into a transfer queue where staff can review the transfer. This also allows staff to edit the transfer cooldown periods of transferred characters.</p>"},{"location":"features/site-settings/#prompt_reward_editing","title":"prompt_reward_editing","text":"<p>0: Only mods can edit default prompt rewards for a submission, 1: Users can modify rewards at time of submission.</p> <p>Default value: 0</p>"},{"location":"features/site-settings/#transfer_cooldown","title":"transfer_cooldown","text":"<p>Number of days to add to the cooldown timer when a character is transferred.</p> <p>Default value: 3</p> <p>Info</p> <p>Note that in circumstances where a staff member has to officiate a transfer, the staff member will still be able to manually edit the cooldown applied in that case (the transfer cooldown is filled in automatically for convenience). This value primarily applies in situations where users transfer characters without requiring approval.</p>"},{"location":"features/site-settings/#see-also","title":"See Also","text":"<ul> <li>Config Files</li> </ul>"},{"location":"features/species/","title":"Species","text":"<p>Species are used to categorise characters. Subtypes are subcategories of species that can optionally be assigned to characters as well. They can be edited in the admin panel by users with the Edit World Data power.</p>"},{"location":"features/species/#usage","title":"Usage","text":"<p>Species and subtypes are assigned to characters upon creation. Staff can fix the species and subtype for a MYO slot by selecting a species during MYO slot creation. Additionally, traits may also be made assignable to a specific species only. Subtypes do not impose any restrictions on trait selection and are mainly cosmetic.</p> <p>Traits and characters can be filtered by species on the world page and masterlist pages respectively.</p>"},{"location":"features/species/#editing","title":"Editing","text":"<p>Species have the following properties:</p> <ul> <li>Name</li> <li>World Page Image</li> <li>Description (accepts HTML)</li> </ul> <p>Name is the species's name.</p> <p>The World Page Image is shown in the encyclopedia, and nowhere else. As with all encyclopedia images, the recommended size is 200 x 200 pixels, but can be any size.</p> <p>Description is a description of the species for the encyclopedia page.</p> <p>Additionally, the sort order of species can be edited from the Species index page. This order affects the display order on the encyclopedia page.</p>"},{"location":"features/species/#subtypes","title":"Subtypes","text":"<p>Subtypes have the same properties, but additionally:</p> <ul> <li>Species</li> </ul> <p>The Species is required, but species do not need to have subtypes.</p>"},{"location":"features/species/#see-also","title":"See Also","text":"<ul> <li>Characters</li> <li>Traits</li> </ul>"},{"location":"features/trades/","title":"Trades","text":"<p>Trades are a method of securely transferring resources between 2 different user accounts.</p>"},{"location":"features/trades/#usage","title":"Usage","text":"<p>Current and past trades can be viewed by clicking \"Trades\" in the Activity menu. Trades can be created by clicking the New Trade button.</p> <p>Each trade on the index lists the trade's status, sender's comment, each user's offer and the confirmation status. Only the two users involved as well as users with the Manage Masterlist power (as character transfers need to be able to be monitored) are able to view incomplete trades.</p> <p>When a trade is completed and does not contain any characters, the assets will automatically be deposited into the other user's account. If the trade contains any characters, and the <code>open_transfers_queue</code> site setting is set to 1, the trade will go into the transfers queue for approval. Otherwise, it will also complete automatically. Please see the Characters article for more information on transfers.</p> <p>Completed transfers can be viewed by any user. Cancelled and rejected transfers do not become visible to other users.</p>"},{"location":"features/trades/#flow","title":"Flow","text":""},{"location":"features/trades/#trade-creation","title":"Trade Creation","text":"<p>Clicking on the New Trade button allows a user to initiate a trade with another user. The options are:</p> <ul> <li>Recipient</li> <li>Comments (Optional; no HTML, linebreaks are honoured)</li> <li>(Asset Selection)</li> </ul> <p>The Recipient must be a registered user of the site.</p> <p>Comments is a section where the sender can write a small note to the recipient. This can be used for stating the purpose of the trade.</p> <p>Asset Selection comprises of 3 sections for selecting items from inventory, characters, and/or currency. Characters that cannot be transferred (cannot be gifted/traded/sold) are By default, a maximum of 20 things can be attached to one trade - this maximum can be edited in the config files, however, it is recommended that this limit be kept low.</p>"},{"location":"features/trades/#open-trade","title":"Open Trade","text":"<p>In an open trade, each user is able to view both sides of the offer and edit/confirm their own offer. Both users must confirm their own offer, and then the entire trade after both offers have been confirmed, so that neither user is caught off-guard.</p> <ol> <li>A edits A's offer and confirms. B edits B's offer and confirms.</li> <li>A looks at A and B's offers and confirms trade. B looks at A and B's offer and confirms trade.</li> <li>Trade is completed.</li> </ol> <p>Offers can be unconfirmed if a user wants to change their offer. If a user wants to change their offer after the other user has confirmed the entire trade, the second user has to reconfirm after the first is done editing.</p> <p>At this stage, the trade can be cancelled at any time. After the trade has been confirmed by both parties, it cannot be withdrawn.</p>"},{"location":"features/trades/#approval","title":"Approval","text":"<p>Approval is only required if the transfers queue is open and the trade contains at least one character. After confirmation, the trade will enter the transfers queue and be processed when approved by staff.</p>"},{"location":"features/trades/#see-also","title":"See Also","text":"<ul> <li>Characters</li> <li>User Accounts</li> <li>Items</li> <li>Currencies</li> </ul>"},{"location":"features/traits/","title":"Traits","text":"<p>Traits are used as add-ons to characters that describe their unique features. They can be edited in the admin panel by users with the Edit World Data power.</p>"},{"location":"features/traits/#usage","title":"Usage","text":"<p>Traits and trait categories can be created in the admin panel, with the option of restricting them to certain species. Once created, they can be attached to characters and MYO slots.</p> <p>The character and MYO slot masterlist pages contain options to filter characters by a trait or combination of traits.</p> <p>Note that in the code, traits are named \"features\" instead as \"trait\" is a reserved keyword in PHP.</p>"},{"location":"features/traits/#editing","title":"Editing","text":""},{"location":"features/traits/#categories","title":"Categories","text":"<p>Editing trait categories and traits requires the Edit World Data power.</p> <p>Trait categories can be created in the admin panel, with the usual category properties:</p> <ul> <li>Name</li> <li>World Page Image</li> <li>Description (accepts HTML)</li> </ul> <p>The image and description are displayed only on the world page. Categories are optional, but allow traits to be listed in a controllable order on the character's page.</p>"},{"location":"features/traits/#traits_1","title":"Traits","text":"<p>Traits themselves have the following properties:</p> <ul> <li>Name</li> <li>Rarity</li> <li>World Page Image</li> <li>Trait Category</li> <li>Species Restriction</li> <li>Description (accepts HTML)</li> </ul> <p>Name is the trait name which is displayed on the trait index.</p> <p>Rarity is the rarity of the trait. While this is mostly cosmetic, a rarity cap can be set on MYO slots - users will only be able to submit the slot for approval with traits equal or lower to that rarity.</p> <p>The World Page Image is shown in the encyclopedia, and nowhere else. As with all encyclopedia images, the recommended size is 200 x 200 pixels, but can be any size. It is recommended to use a simple thumbnail image for this image, and elaborate on trait restrictions, reference images etc. in the description area.</p> <p>Trait Category is the category to which the trait falls under, and used for organisation. It is otherwise optional.</p> <p>Species Restriction sets the trait to only be available for that particular species, and is optional.</p> <p>Description is a description of the trait for the encyclopedia page.</p>"},{"location":"features/traits/#see-also","title":"See Also","text":"<ul> <li>Characters</li> <li>MYO Slots</li> </ul>"},{"location":"features/user-accounts/","title":"User Accounts","text":"<p>User accounts are required to use most of the site's features, including participation through prompt submissions and managing owned characters. User data can be edited in the admin panel by users of a rank with the Manage Users power.</p>"},{"location":"features/user-accounts/#registration","title":"Registration","text":"<p>Users are able to register accounts by clicking on the Register button on the right side of the navigation bar when logged out. The name and e-mail address must be unique. An invitation key is required if the site is not open to new user signups.</p> <p>New user accounts will always have FTO status on registration.</p>"},{"location":"features/user-accounts/#verification","title":"Verification","text":"<p>After a new account has been created, users need to verify their identity by linking their deviantART account to their site user account. They will not be able to use any other parts of the site until this process has been completed. This account cannot be changed by the user once it has been linked. In the user admin panel, the name cannot be changed directly but can be unlinked, which will require the user to link a deviantART account again to regain access to their account features.</p> <p>The deviantART account name is also referred to as the user's \"alias\". Upon linkage, any characters that were previously credited to the user's alias will be credited to the account immediately. This will also update their FTO status.</p>"},{"location":"features/user-accounts/#profile","title":"Profile","text":"<p>Each user has a profile page, which lists their name, rank, join date, FTO status and other details. A summary of currencies, newest items in their inventory as well as their characters are displayed on the lower half of the page. Users have an HTML-compatible section of their page that they can edit from their user settings.</p> <p>This profile page will also display an alert if the user has been banned.</p> <p>From the main profile page, the sidebar includes links to logs of player activity.</p>"},{"location":"features/user-accounts/#fto-status","title":"FTO Status","text":"<p>This is a purely cosmetic status that adds a badge to the user's profile. Users are considered FTOs if they have had no logs of character ownership. This can be edited in the user admin panel manually.</p> <p>MYO slots do not remove FTO status until they are submitted for design approval and successfully approved.</p>"},{"location":"features/user-accounts/#logs","title":"Logs","text":"<p>Logs for the following are accessible from the user's profile:</p> <ul> <li>Ownership history - logs the characters that the user has sent/received</li> <li>Item logs - logs the items that the user has used/sent/received</li> <li>Currency logs - logs the currencies that the user has used/sent/received</li> <li>Prompt submissions - logs the submissions that the user has submitted (only approved submissions)</li> </ul>"},{"location":"features/user-accounts/#bans","title":"Bans","text":"<p>Users can be banned from the admin panel. This still allows them to log in, but they can no longer participate in site activities and/or transfer assets to/from other users.</p> <p>Banning causes a few things to happen immediately:</p> <ul> <li>Pending character transfers to/from the user are cancelled</li> <li>Pending prompt submissions and claims from the user are rejected</li> <li>Pending design update approvals/MYO approvals from the user are rejected</li> <li>Pending trades involving the user are rejected</li> <li>The user's rank is downgraded to the lowest possible rank</li> </ul> <p>A ban reason can be attached to a ban. This is visible on the site's blacklist, although it is not listed directly on the user's profile.</p>"},{"location":"features/user-accounts/#see-also","title":"See Also","text":"<ul> <li>User Ranks</li> <li>Characters</li> </ul>"},{"location":"features/user-ranks/","title":"User Ranks","text":"<p>Ranks are assigned to users to manage their access to various parts of the site.</p>"},{"location":"features/user-ranks/#effects","title":"Effects","text":"<p>Ranks have a name, description, colour, and can have any number (or none) of specific powers that restrict access to different parts of the admin panel. Users without the appropriate power will not be able to view certain admin pages/carry out certain actions. By default, the member rank has no powers, and therefore cannot access the admin panel at all. The colour assigned to a rank will be applied to the usernames of users of that rank.</p> <p>The exception is the admin rank, which is created during setup. The admin rank cannot be deleted, its powers cannot be removed, and additionally has exclusive access to certain parts of the admin panel.</p>"},{"location":"features/user-ranks/#powers","title":"Powers","text":"<p>Here is a complete list of powers and their descriptions.</p>"},{"location":"features/user-ranks/#edit-site-settings","title":"Edit Site Settings","text":"<p>Allow rank to modify site settings and upload new images to replace the site layout images.</p>"},{"location":"features/user-ranks/#edit-world-data","title":"Edit World Data","text":"<p>Allow rank to modify the world data. This includes creating/editing/uploading images for species, items, traits, etc.</p>"},{"location":"features/user-ranks/#edit-text-pages","title":"Edit Text Pages","text":"<p>Allow rank to create/modify text pages. This includes pages created using the page creator tool and news posts.</p>"},{"location":"features/user-ranks/#manage-users","title":"Manage Users","text":"<p>Allow rank to view/modify user account info and create invitation keys. This will grant access to the user admin panel.</p>"},{"location":"features/user-ranks/#edit-ranks","title":"Edit Ranks","text":"<p>Allow rank to change the rank of a user. This power requires the Edit User Info power to be attached as well.</p>"},{"location":"features/user-ranks/#edit-inventories","title":"Edit Inventories","text":"<p>Allow rank to grant and remove items from user inventories, as well as grant/remove currency from users and characters.</p>"},{"location":"features/user-ranks/#manage-masterlist","title":"Manage Masterlist","text":"<p>Allow rank to create/edit new characters. This includes uploading new images, modifying traits on an existing character and forcing ownership transfers.</p>"},{"location":"features/user-ranks/#manage-raffles","title":"Manage Raffles","text":"<p>Allow rank to create/edit raffles, add/remove tickets for users and roll raffles.</p>"},{"location":"features/user-ranks/#manage-submissions","title":"Manage Submissions","text":"<p>Allow rank to view the submissions queue, edit rewards attached to a submission and approve/reject them.</p>"},{"location":"features/user-ranks/#editing","title":"Editing","text":"<p>Ranks can be edited in the admin panel. Only the admin rank is able to edit ranks - this is not an assignable power.</p> <p>Ranks can also be sorted - users will be sorted according to rank on the User Index, starting with the admin rank at the top. Lower ranks are also considered \"weaker\" than higher ranks - given 2 ranks that both have the Edit Ranks power, a lower-ranked user will not be able to edit the rank of the higher-ranked one.</p> <p>The ranks of individual users can be assigned from the user admin panel.</p>"},{"location":"features/user-ranks/#admin","title":"Admin","text":"<p>As mentioned above, the admin account has special access to certain pages and actions.</p> <p>These include:</p> <ul> <li>User rank editing</li> <li>Viewing the blacklist when set to the greatest privacy level</li> </ul>"},{"location":"features/user-ranks/#see-also","title":"See Also","text":"<ul> <li>User Accounts</li> <li>Site Settings</li> </ul>"},{"location":"guides/creating-item-types/","title":"Tutorial: Creating Item Types","text":"<p>This is a tutorial on how to add new item types (item tags). Throughout the tutorial, I will also walk through the creation of the Box item type in the blue boxes, which was also implemented using this method.</p> <p>Following along with the 'box' item type...</p> <p>First, let's define what a box type item is/does:</p> <ul> <li>A box is an \"openable\" item. This item can be used from the inventory and will give the user a set of assets (can be defined in the admin panel), and delete the original item.</li> <li>Assets can be items, currency or loot tables. Loot tables will be rolled. Multiple assets of various quantities can be attached in the admin panel.</li> </ul>"},{"location":"guides/creating-item-types/#1-add-item-type-to-the-config-file","title":"1. Add item type to the config file","text":"<p>Find the config file: <code>config/lorekeeper/item_tags.php</code></p> <p>Add a row inside the array, in the format:</p> <pre><code>'tag_name' =&gt; [\n    'name' =&gt; 'Tag Name',\n    'text_color' =&gt; '#000000',\n    'background_color' =&gt; '#000000'\n],\n</code></pre> <p>Where <code>text_color</code> and <code>background_color</code> are hexadecimal colour codes excluding the <code>#</code>. These colours will be used in displaying the tag label.</p> <p>Replace <code>tag_name</code> and <code>Tag Name</code> as well, following those capitalisation/punctuation rules.</p> <p><code>tag_name</code> must be a unique key (all small letters, underscores instead of spaces), but <code>Tag Name</code> (any capitalisation, any formatting) does not have to be. The latter will be used in displaying tag names on user-facing pages.</p> <p>Following along with the 'box' item type...</p> <p>Adding our box item type, which will be an orange tag label with white text.</p> <pre><code>'box' =&gt; [\n    'name' =&gt; 'Box',\n    'text_color' =&gt; '#ffffff',\n    'background_color' =&gt; '#f6993f'\n],\n</code></pre>"},{"location":"guides/creating-item-types/#2-add-a-service-class-for-the-item-tag","title":"2. Add a service class for the item tag","text":"<p>This class will help us process the data and get relevant information for our form.</p> <p>Create a file called <code>[ItemTag]Service.php</code> in <code>app/Services/Item</code>. The capitalisation is important!</p> <p>These are the required functions:</p> <ul> <li><code>getEditData()</code> - Retrieves any data that you need for your editing form. Should return an array, and can be accessed from the tag using $tag-&gt;getEditData().</li> <li><code>getTagData($tag)</code> - Does some custom processing and returns tag data in an appropriate format for your needs. Can be accessed from the tag using $tag-&gt;getData(). This is not strictly necessary if you don't use it, but allows you to implement some custom handling.</li> <li><code>updateData($tag, $data)</code> - Handles updating of the tag's data in the admin panel. Add your custom processing here.</li> <li><code>act($stack, $user, $data)</code> - Handles what happens when a user uses the item.</li> </ul> Here is a blank template for the file: <pre><code>&lt;?php namespace App\\Services\\Item;\n\nuse App\\Services\\Service;\n\nclass CustomService extends Service\n{\n    /**\n     * Retrieves any data that should be used in the item tag editing form.\n     *\n     * @return array\n     */\n    public function getEditData()\n    {\n        return [];\n    }\n\n    /**\n     * Processes the data attribute of the tag and returns it in the preferred format.\n     *\n     * @param  string  $tag\n     * @return mixed\n     */\n    public function getTagData($tag)\n    {\n        return [];\n    }\n\n    /**\n     * Processes the data attribute of the tag and returns it in the preferred format.\n     *\n     * @param  string  $tag\n     * @param  array   $data\n     * @return bool\n     */\n    public function updateData($tag, $data)\n    {\n        return true;\n    }\n\n    /**\n     * Acts upon the item when used from the inventory.\n     *\n     * @param  \\App\\Models\\User\\UserItem  $stack\n     * @param  \\App\\Models\\User\\User      $user\n     * @param  array                      $data\n     * @return bool\n     */\n    public function act($stack, $user, $data)\n    {\n        return true;\n    }\n}\n</code></pre> <p>You can also add any additional functions that you may need in order to process the data.</p> <p>Following along with the 'box' item type...</p> <p>As we haven't started creating the form, we probably aren't entirely sure what data we'll need at this point, so we will just create <code>app/Services/Item/BoxService.php</code> for now and move on to the next step.</p>"},{"location":"guides/creating-item-types/#3-add-item-tag-settings-editing-to-the-admin-panel","title":"3. Add item tag settings editing to the admin panel","text":"<p>We need to create a form in the admin panel so we can edit the item data.</p> <p>Go to the admin panel for the item you want to tag (<code>your-site-url.com/admin/data/items/edit/[item_id]</code>), and add the item tag you want to edit in the Item Tags section. Doing so should bring you to the tag settings page, but only the \"Active\" toggle will be visible. If you only want this tag to be cosmetic, you can stop here.</p> <p>Add a new file in <code>resources/views/admin/items/tags</code> named <code>[tag_name].blade.php</code>, where <code>[tag_name]</code> is as you specified in the config file (no square brackets). This will contain the form HTML for our other fields.</p> <p>A few other optional sections can be added to allow you to insert data into the page in various locations.</p> <ul> <li>If you're using Javascript, make a new file in <code>resources/views/js/admin_items</code> with the same file name as above and include script tags when writing your Javascript.</li> <li>Files can be added in <code>resources/views/admin/items/tags</code> named <code>[tag_name]_pre.blade.php</code> and <code>[tag_name]_post.blade.php</code>. These add content before and after the form respectively, so any form elements in these sections will not be sent along with the rest of the data.</li> </ul> <p>Following along with the 'box' item type...</p> <p>We'll add 3 files:</p> <ul> <li><code>box.blade.php</code> in <code>resources/views/admin/items/tags</code></li> <li><code>box_post.blade.php</code> in <code>resources/views/admin/items/tags</code></li> <li><code>box.blade.php</code> in <code>resources/views/js/admin_items</code></li> </ul> <p>As they rely heavily on pre-existing code, I would recommend going through the files to see how they're set up.</p> <p>These contain the code that will allow us to select assets using Javascript. The code in these files is fairly simple as I've made selectors that are easy to include.</p> <p>However, for the select inputs, we need to be able to retrieve the item/currency/loot table data to fill them out, so we'll do that in <code>BoxService</code>:</p> <ul> <li>In <code>getEditData()</code>, we add the code to retrieve our dropdown data. This makes it possible to select assets from the form.</li> <li>In <code>getTagData()</code>, we take the data attribute of the tag and format it so that our item/currency/loot table selection code can read it and show us what we've already put in the box.</li> <li>In <code>updateData($tag, $data)</code>, we add the code that processes the data from the admin panel. This is where we handle the saving of what goes into the box.</li> <li>In <code>act($stack, $user, $data)</code>, we add the code for distributing the box's contents and deleting the item from the user's inventory. This will be handled later.</li> </ul>"},{"location":"guides/creating-item-types/#4-add-front-facing-views","title":"4. Add front-facing views","text":"<p>Now that we're done with editing the item in the admin panel, let's look at how the user will see and interact with the item.</p> <p>If you look at the item in your inventory (click on it to show the modal), you will see that it now displays the tag under the name. Let's add a new feature above the \"Transfer Item\" and \"Delete Item\" options.</p> <p>Create a file named <code>_[tag_name].blade.php</code> (note the underscore in front) in <code>resources/views/inventory</code>. Add any additional options to the list in this file. Sample code:</p> <pre><code>&lt;li class=\"list-group-item\"&gt;\n    &lt;a class=\"card-title h5 collapse-title\"  data-toggle=\"collapse\" href=\"#customForm\"&gt; Action Name&lt;/a&gt;\n    {!! Form::open(['url' =&gt; 'inventory/act/'.$stack-&gt;id.'/'.$tag-&gt;tag, 'id' =&gt; 'customForm', 'class' =&gt; 'collapse']) !!}\n        &lt;!-- You can add more form fields in this space. --&gt;\n        &lt;div class=\"text-right\"&gt;\n            {!! Form::submit('Action Name', ['class' =&gt; 'btn btn-primary']) !!}\n        &lt;/div&gt;\n    {!! Form::close() !!}\n&lt;/li&gt;\n</code></pre> <p>Some notes:</p> <ul> <li>IDs must be unique, so to avoid any overlap, change customForm (in both places) to a unique name.</li> <li>The above form only adds one new option on the modal, but you can add multiple by adding more in succession. The form URL must be the same, but you can distinguish the intended action by, for example, giving the submit button in each form a different name attribute.</li> <li>The action will only be displayed if the user is logged in and either owns the item, or is a staff member with the edit_inventories power.</li> </ul> <p>Following along with the 'box' item type...</p> <p>As no other information is required in the form, we'll simply put in a note to the user that this action is irreversible. This functions as a confirmation screen for using the item.</p> <pre><code>&lt;li class=\"list-group-item\"&gt;\n    &lt;a class=\"card-title h5 collapse-title\"  data-toggle=\"collapse\" href=\"#openBoxForm\"&gt; Open Box&lt;/a&gt;\n    {!! Form::open(['url' =&gt; 'inventory/act/'.$stack-&gt;id.'/'.$tag-&gt;tag, 'id' =&gt; 'openBoxForm', 'class' =&gt; 'collapse']) !!}\n        &lt;p&gt;This action is not reversible. Are you sure you want to open this box?&lt;/p&gt;\n        &lt;div class=\"text-right\"&gt;\n            {!! Form::submit('Open', ['class' =&gt; 'btn btn-primary']) !!}\n        &lt;/div&gt;\n    {!! Form::close() !!}\n&lt;/li&gt;\n</code></pre>"},{"location":"guides/creating-item-types/#5-add-action-processing","title":"5. Add action processing","text":"<p>We now need to write the back-end code for handling what happens when you use the item.</p> <p>Back in <code>[ItemName]Service.php</code> from step 3, one of the functions we created was <code>act($stack, $user, $data)</code>. Inside that function, if you have only one possible action, you can directly write the handling code. If you have multiple possible actions, you can write a switch/case statement that checks $data and calls a different function depending on the intended usage.</p> <p>Note that <code>$stack</code> refers to the user-held item stack, while <code>$stack-&gt;item</code> refers to the actual item data itself.</p> <p>Following along with the 'box' item type...</p> <p>We don't want any other user except for the owner to open a box, so the first thing we do is check that the box belongs to the owner. Following that, we remove the box and distribute the associated rewards (with logging).</p> <pre><code>public function act($stack, $user, $data)\n{\n    DB::beginTransaction();\n\n    try {\n        // We don't want to let anyone who isn't the owner of the box open it,\n        // so do some validation... \n        if($stack-&gt;user_id != $user-&gt;id) throw new \\Exception(\"This item does not belong to you.\");\n\n        // Next, try to delete the box item. If successful, we can start distributing rewards.\n        if((new InventoryManager)-&gt;debitStack($stack-&gt;user, 'Box Opened', ['data' =&gt; ''], $stack)) {\n\n            // Distribute user rewards\n            if(!$rewards = fillUserAssets(parseAssetData($stack-&gt;item-&gt;tag('box')-&gt;data), $user, $user, 'Box Rewards', [\n                'data' =&gt; 'Received rewards from opening &lt;a href=\"#\" class=\"inventory-log-stack\" data-id=\"'.$stack-&gt;id.'\" data-name=\"'.$stack-&gt;item-&gt;name.'\"&gt;'.$stack-&gt;item-&gt;name.'&lt;/a&gt;'\n            ])) throw new \\Exception(\"Failed to open box.\");  \n        }\n\n        return $this-&gt;commitReturn(true);\n    } catch(\\Exception $e) { \n        $this-&gt;setError('error', $e-&gt;getMessage());\n    }\n    return $this-&gt;rollbackReturn(false);\n}\n</code></pre>"},{"location":"guides/creating-item-types/#summary","title":"Summary","text":"<p>The whole process consists of 5 steps:</p> <ol> <li>Adding the tag to <code>config/lorekeeper/item_tags.php</code></li> <li>Creating the service class in <code>app/Services/Item</code> containing 4 functions, <code>getEditData()</code>, <code>getTagData($tag)</code>, <code>updateData($tag, $data)</code> and <code>act($stack, $user, $data)</code></li> <li>Adding item tag setting form fields in <code>resources/views/admin/items/tags</code> and possibly <code>resources/views/js/admin_items</code> for the admin panel, and handling in service class if not already done</li> <li>Adding action(s) to the inventory menu in <code>resources/views/inventory</code></li> <li>Adding the effects of inventory actions in the service class</li> </ol>"},{"location":"guides/setup/","title":"Tutorial: Setting Up","text":""},{"location":"guides/setup/#visual-guides","title":"Visual Guides","text":"<p>Some Lorekeeper users have written extensive guides on setting up:</p> <ul> <li>Juni's Dreamhost visual setup guide</li> <li>wych(witch)'s DigitalOcean visual setup guide</li> </ul> <p>Recommended to use either of these guides as they're highly detailed and contain more screenshots!</p> <p>What is the difference?</p> <p>These guides pertain to setting up on different webhosts. The outcome is the same, but cost of webhosting and involvement in setting up varies - please read through the guides and choose the type of webhosting that fits your needs/budget/time!</p> <p>The information below is the same as detailed in Juni's guide, but more general/doesn't contain info about setting up on a shared server/configuring passwordless login.</p>"},{"location":"guides/setup/#requirements","title":"Requirements","text":"<p>Requirements for a web host (assuming it's running on some variant of Unix):</p> <ul> <li>PHP 7.2</li> <li>MySQL</li> <li>SSH access</li> </ul> <p>If you're not familiar with any of these and don't want to spend too much time shopping around hosts, I personally recommend going with DreamHost's VPS (the cheapest plan will do) as they have everything necessary (the demo site is hosted by them) and their own written instructions for some of the steps in the setup, which I have linked below.</p> <p>Additional software requirements:</p> <ul> <li>PuTTY (if using Windows) / a program that can be used to SSH into your server</li> <li>A Git client (e.g. Sourcetree)</li> <li>A text editor (Notepad works, but I recommend something more featured e.g. Visual Studio Code, Notepad++)</li> <li>A command line program (for your computer - on windows, this is Command Prompt)</li> </ul>"},{"location":"guides/setup/#preface","title":"Preface","text":"<p>Setting up your own copy of Lorekeeper consists of 3 main steps:</p> <ol> <li>Uploading a copy to your web host</li> <li>Setting up the database/admin account configuration</li> <li>Site configuration/adding your ARPG data/modifying the source code</li> </ol> <p>If you have a personal favourite method of setting up your workflow, I would strongly recommend going with what you're comfortable with! Jump ahead to step 2 as there are a few commands you have to run from the command line.</p> <p>Otherwise, for this tutorial, I'll assume that you have never touched Git and worked on the command line before, and will run through the steps I go through to get this up and working, with my usual workflow. Refer to the basic version of the tutorial to get it uploaded with less fuss, but less convenience working with the source code.</p>"},{"location":"guides/setup/#uploading","title":"Uploading","text":"<p>We're going to set this up so that we can use Git to manage changes to the site. The setup is based on this article (with a few modifications + expanding on the comments).</p>"},{"location":"guides/setup/#obtaining-local-and-server-copies","title":"Obtaining Local and Server Copies","text":"<p>First, we want to make sure we have the software we need. For Windows PCs, download PuTTY from here and install/set it up (click here for instructions).</p> <p>Next, we need hosting and a domain name. I'll be using Dreamhost in the examples of this tutorial for hosting.</p> <p>Set up the domain name so it points to your server. How to do this depends on where your domain name is registered, so check the instructions they should have provided.</p> <p>Obtain a copy of Lorekeeper. The recommended way to do this is to git clone it on your computer - there are various ways of doing this, but the simplest way is probably to clone it from your Git client. This will also initialise it as a Git repository on your computer. Now, you have a copy of Lorekeeper on your computer that you can use for working. I'll call this your local copy, and the one on your server the server copy (or live site).</p> <p>We're going to get the code onto the server. Using your SSH client (PuTTY on Windows/Terminal on Mac) SSH into your server - here are Dreamhost's very detailed instructions on how to do that. From here on, you can enter the commands almost exactly as they are.</p> <p>Navigate to the directory we're putting the files in.</p> <pre><code>cd\n</code></pre> <p>Make a directory for your site - name it whatever you want. In this example I'll use \"site-name.com\", so replace that with your site name.</p> <pre><code>mkdir site-name.com\ncd site-name.com\n</code></pre> <p>Make a directory called <code>www</code>, go in and <code>git init</code> it.</p> <pre><code>mkdir www\ncd www\ngit init\n</code></pre> <p>Go back out and make a second directory named <code>site_hub.git</code> and init it as a bare repository.</p> <pre><code>cd ..\nmkdir site_hub.git\ncd site_hub.git\ngit --bare init\n</code></pre> Creating and initialising the directories on the server. <p>Go to your Git client (e.g. Sourcetree as suggested above), select your folder containing Lorekeeper's code and add <code>site_hub.git</code> as a remote. The address is similar to your SSH address but points directly to the folder, something like <code>ssh://username@host.com/~/site-name.com/site_hub.git</code>.</p> <p>If successful, push the code to the remote. In Sourcetree, right click on the remote, choose to push, select the master branch and click OK.</p> Adding the remote in Sourcetree. <p>Back in the SSH client, we'll add <code>site_hub.git</code> as a remote for <code>www</code>.</p> <pre><code>cd ../www\ngit remote add hub ../site_hub.git\n</code></pre> <p>At this point if you enter <code>git remote show hub</code>, you should see something like:</p> <pre><code>* remote hub\n  URL: /home/your_username/site-name.com/site_hub.git\n</code></pre> Adding the remote on the server. <p>Run a git pull.</p> <pre><code>git pull hub master\n</code></pre> <p>Wait for it to finish running, and if it looks like nothing went wrong, enter <code>ls</code> and see that there are files inside the directory.</p> Running git pull."},{"location":"guides/setup/#git-hooks","title":"Git Hooks","text":"<p>If everything looks good, we'll set up git hooks so that updating the site is as easy as pushing a button.</p> <p>Continue by entering</p> <pre><code>cd .git/hooks\nnano post-commit\n</code></pre> <p>This will bring up a blank text editor. Enter the following text:</p> <pre><code>#!/bin/sh\n\necho\necho \"**** Pushing changes to Hub [Prime's post-commit hook]\"\necho\n\ngit push hub\n</code></pre> <p>To save the file, enter in order: Ctrl + X, y, enter.</p> <p>Then, we'll change the permissions on the file:</p> <pre><code>chmod +x post-commit\n</code></pre> <p>We'll also add a hook in <code>site_hub.git</code>.</p> <pre><code>cd ../../../site_hub.git/hooks\nnano post-update\n</code></pre> <p>The contents of this file (note the directory name you have to edit below!!):</p> <pre><code>#!/bin/sh\n\necho\necho \"**** Pulling changes into Prime [Hub's post-update hook]\"\necho\n\ncd $HOME/site-name.com/www || exit\nunset GIT_DIR\ngit pull hub master\n\nexec git-update-server-info\n</code></pre> <p>Once again: Ctrl + X, y, enter.</p> <p>And again, we'll change the permissions on the file:</p> <pre><code>chmod +x post-update\n</code></pre> <p>You can now test the hooks by modifying something harmless on your local copy (such as a comment) and commit/pushing the change to the server.</p> Creating a hook. <p>If set up correctly, the output log should display the message you wrote in post-update and show that the file was updated without errors.</p> <p>For a small but important tweak, we'll change the origin of our repository to point to the new site. This is demonstrated in Sourcetree, but should not be too much different in other clients.</p> <ol> <li>Checkout the site's master branch.</li> <li>Rename the old origin branch.</li> <li>Change the site's master branch to origin.</li> </ol> <p>In the future, you (and other users who have access to the repository) can simply push new changes to the code through your Git client at the click of a button, which also keeps track of files that you've added and/or modified, and contains a log of who made what changes to the code. Hooray!</p>"},{"location":"guides/setup/#setting-up","title":"Setting up","text":""},{"location":"guides/setup/#web-directory","title":"Web Directory","text":"<p>Update your domain to point to the www/public folder.</p> <p>For DreamHost users, this is under Manage Domains &gt; Edit &gt; Web directory. The page may take a few hours to update, and display an error if you have not completely finished the setup yet (this is normal).</p> Sample web directory."},{"location":"guides/setup/#install-composer","title":"Install Composer","text":"<p>Packages for the project are installed through Composer. You'll want to have it installed both on the server and on your computer.</p> <ul> <li>Instructions for installing Composer on your server are here.</li> <li>Instructions for installing Composer on your computer are here.</li> </ul> <p>I recommend following the global instructions. If you follow the local setup, place <code>composer.phar</code> in the <code>www</code> directory.</p> <p>Additionally, if you're using DreamHost, you will want to change the default PHP version for convenience. See here for instructions.</p> <p>Note: At the time of coding, I was using PHP 7.2; when changing the PHP version make sure to use either 7.2 or 7.3. (i.e. replace all instances of php74 with php72 or php73)</p>"},{"location":"guides/setup/#packages-and-database-setup","title":"Packages and Database Setup","text":"<p>In your SSH client, navigate to the www folder and run composer install. (Do this also on your own computer, but navigate to the appropriate directory instead)</p> <pre><code>cd ~/site-name.com/www\ncomposer install\n</code></pre> <p>Let it finish running. After that, we'll set up the database.</p> <p>If you're not on DreamHost or are setting up your local copy: This is easiest through phpMyAdmin, so navigate to your site's phpMyAdmin in your browser.</p> <p>Click on \"Databases\" in the top bar, and add a database - it can be called anything you like.</p> <p>If you're on DreamHost, go to the control panel to set up a database (see image on right). Be sure to choose names and a password that cannot be easily guessed and note them down! You will need the database name, database user (the New Username field) and database user password (the New Password field) later. The hostname can be used to access PHPMyAdmin - note this down as well.</p> Creating a DreamHost database in the control panel."},{"location":"guides/setup/#api-keys","title":"API Keys","text":"<p>Now, we need to get access to services that will allow us to send e-mails (for registration/resetting passwords) and connect to deviantART (for verifying accounts).</p> <p>For a small site with little traffic, I'd suggest SendGrid (100 mails a day on their free plan), though you can use any service that you like.</p> <p>If you're using Sendgrid, after you've created your account, go to API Keys under Settings in the Control Panel and create a new key. Note down the generated SendGrid API key as we'll need it later. Keep this a secret!</p> <p>On deviantART, while logged in, go to the developer area.</p> <p>Click on Register Your Application.</p> <p>Give your application a name as you would a deviation, and under both <code>OAuth2 Redirect URI Whitelist</code> (Required) and <code>Original URLs Whitelist</code>, put your site's URL (e.g. <code>http://site-name.com</code>). Click save.</p> <p>This will add an application under Un-Published Applications on the developer page - you don't need to publish the application to use it.</p> <p>Note down the deviantART <code>client_id</code> and deviantART <code>client_secret</code>. We'll use these later, and again, keep the secret a secret!</p> <p>I recommend creating a second application for use with your local copy rather than using the same application. In this application, instead of your site URL, add localhost (e.g. I use <code>http://127.0.0.1</code>).</p>"},{"location":"guides/setup/#env","title":".env","text":"<p>Now, let's use that information.</p> <p>The site requires a file named <code>.env</code> to be placed in the root directory of your site (in the <code>www</code> directory). We'll do this in both the local copy and the server copy, but with a few differences.</p> <p>Create a file both locally and on the server that contains the following, filling out the fields as noted (avoid using spaces in names):</p> <pre><code>APP_NAME=site_name_with_no_spaces\nAPP_ENV=\nAPP_KEY=\nAPP_DEBUG=\nAPP_URL=\n\nCONTACT_ADDRESS=your_contact_address@site-name.com\nDEVIANTART_ACCOUNT=your-dA-group-account-username\n\nLOG_CHANNEL=stack\n\nDB_CONNECTION=mysql\nDB_HOST=\nDB_PORT=\nDB_DATABASE=\nDB_USERNAME=\nDB_PASSWORD=\n\nBROADCAST_DRIVER=log\nCACHE_DRIVER=file\nQUEUE_CONNECTION=sync\nSESSION_DRIVER=file\nSESSION_LIFETIME=120\n\nREDIS_HOST=127.0.0.1\nREDIS_PASSWORD=null\nREDIS_PORT=6379\n\nMAIL_DRIVER=smtp\nMAIL_HOST=smtp.sendgrid.net\nMAIL_PORT=587\nMAIL_USERNAME=apikey\nMAIL_PASSWORD=your_sendgrid_api_key\nMAIL_FROM_ADDRESS=noreply@site-name.com\nMAIL_FROM_NAME=mail_sender_name\n\nAWS_ACCESS_KEY_ID=\nAWS_SECRET_ACCESS_KEY=\nAWS_DEFAULT_REGION=us-east-1\nAWS_BUCKET=\n\nPUSHER_APP_ID=\nPUSHER_APP_KEY=\nPUSHER_APP_SECRET=\nPUSHER_APP_CLUSTER=mt1\n\nMIX_PUSHER_APP_KEY=\"${PUSHER_APP_KEY}\"\nMIX_PUSHER_APP_CLUSTER=\"${PUSHER_APP_CLUSTER}\"\n\nDEVIANTART_CLIENT_ID=your_deviantart_client_id\nDEVIANTART_CLIENT_SECRET=your_deviantart_secret\nDEVIANTART_CALLBACK_URL=/\n</code></pre> <p>Leave the APP_KEY blank, as it will be generated in a later step.</p> <p>On the local version, find and fill out the following lines as such (if you created an extra app for testing on deviantART, change the dA client ID and secret to that):</p> <pre><code>APP_ENV=local\nAPP_DEBUG=true\nAPP_URL=http://localhost\n\nDB_HOST=127.0.0.1\nDB_PORT=3306\nDB_DATABASE=your_local_database_name\nDB_USERNAME=root\nDB_PASSWORD=\n</code></pre> <p>(Note that in the image to the right, Mailtrap.io is being used for local emails and the CONTACT_ADDRESS and DEVIANTART_ACCOUNT options are missing, but should be required.)</p> <p>On the server version, find and fill out the following lines as such:</p> <pre><code>APP_ENV=production\nAPP_DEBUG=false\nAPP_URL=http://site-name.com\n\nDB_HOST=your_database_hostname\nDB_PORT=3306\nDB_DATABASE=your_server_database_name\nDB_USERNAME=your_server_database_user_name\nDB_PASSWORD=your_server_database_user_password\n</code></pre> Comparison of local (left) and server (right) .env."},{"location":"guides/setup/#command-line-setup","title":"Command Line Setup","text":"<p>Moving on to command line setup - now that we have the files in place, we're going to create the database tables, insert some basic required data, and get the crons (scheduled scripts; primarily for scheduled news posts) working.</p> <p>On both local and on the server, run the following, letting each complete before the next one:</p> <pre><code>php artisan key:generate \nphp artisan migrate\n</code></pre> <p>This will generate the app key (used for encryption) and create the database tables.</p> <p>Run the following commands afterwards:</p> <pre><code>php artisan add-site-settings\nphp artisan add-text-pages\nphp artisan copy-default-images\n</code></pre> <p>Then, we'll set up the admin user:</p> <pre><code>php artisan setup-admin-user\n</code></pre> <p>This will prompt you for the creation of the admin account, which will have access to all site data. On the live site, I would recommend using this as a purely administrative account and not the site owner's personal account. You can run this command again to change the email address and password of the account.</p> <p>At this point, you should be able to log into the site with the admin account.</p>"},{"location":"guides/setup/#cron-jobs","title":"Cron Jobs","text":"<p>Finally, we'll set up the crons so we can make use of scheduling.</p> <p>For non-DreamHost users: Refer to this article for how to edit the crontab file.</p> <p>Add the following line, editing the directory name as necessary:</p> <pre><code>* * * * * cd ~/site-name.com/www &amp;&amp; php artisan schedule:run &gt;&gt; /dev/null 2&gt;&amp;1\n</code></pre> <p>If you are using DreamHost:</p> <p>Go to the control panel, click on More &gt; Cron Jobs &gt; Add New Cron Job. Select the shell user, enter a title (not important; you can set this to your site name for easy identification), and under command to run, add:</p> <pre><code>cd ~/site-name.com/www &amp;&amp; php artisan schedule:run &gt;&gt; /dev/null 2&gt;&amp;1\n</code></pre> <p>Then choose the following options:</p> <ul> <li>When to run: Custom</li> <li>Minutes: Selected Minutes<ul> <li>In the combo box, choose every multiple of 5. DreamHost restricts cron jobs to run every 5 minutes at the very least, so unfortunately you can't get to-the-minute accuracy.</li> </ul> </li> </ul> <p>If you can view the site from the URL - congratulations, you've set up the site successfully!</p>"},{"location":"guides/setup/#site-configuration","title":"Site Configuration","text":"<p>Before we start adding data, let's edit the config files in the code, making use of Git to send your updates to the server.</p>"},{"location":"guides/setup/#config-files","title":"Config Files","text":"<p>In your local copy, open up <code>config/app.php</code> in your text editor of choice. The code is commented in detail, so you can read and modify the config as you need. Most settings do not need to be touched since you wrote them in .env, but you may want to edit the timezone to match the clock your community goes by.</p> <p>Open up <code>config/lorekeeper/settings.php</code>. Similar to the above, you can read the comments and modify the config as required.</p> <p>In your Git client, choose the modified files, commit and push them (important: to your server, not Github!) with a helpful message. If the hooks have been set up correctly, you should see the effects on the live site after it's done. If not, and there were no errors, you may need to run <code>php artisan config:clear</code> on the server.</p>"},{"location":"guides/setup/#site-data","title":"Site Data","text":"<p>Now we can start editing the site data. All changes on the live site will only stay on the live site, and all local changes will only remain local.</p> <p>Log in as the admin user and go to the admin panel (click the crown in the navigation bar). The first things you may want to edit are:</p> <ul> <li>Site Settings</li> <li>User Ranks (create moderator ranks)</li> <li>Pages (Terms of Service, Privacy Policy, About)</li> <li>Site Images</li> </ul> <p>You can, of course, dive right into editing the game data - I would recommend editing in the order:</p> <ul> <li>rarities</li> <li>categories (trait categories, item categories, prompt categories, character categories)</li> <li>species, traits, items, currencies</li> <li>loot tables</li> <li>prompts, shops</li> </ul> <p>Note that at least 1 character category is required to create any characters. More specific information about each type of data can be found on the respective documentation pages.</p>"},{"location":"guides/setup/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Composer install error: The filter extension is missing.<ul> <li>You are probably using PHP 7.4 on the command line, change it to 7.2 or 7.3.</li> </ul> </li> <li>PHP Fatal error: Uncaught Error: Call to undefined function JsonSchema\\Uri\\filter_var() in \u2026<ul> <li>Same as above, change to PHP 7.2 or 7.3.</li> </ul> </li> <li>500 Server Error trying to send emails<ul> <li>For people who registered accounts after April 6 2020, SendGrid requires the sender identity to be verified. See this article for details.</li> </ul> </li> </ul>"}]}