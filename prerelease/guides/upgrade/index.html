
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://lk-arpg.github.io/lk-docs/prerelease/guides/upgrade/">
      
      
        <link rel="prev" href="../update/">
      
      
        <link rel="next" href="../creating-item-types/">
      
      
      <link rel="icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4">
    
    
      
        <title>v2 Upgrade Guide - Lorekeeper Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#upgrade-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Lorekeeper Docs" class="md-header__button md-logo" aria-label="Lorekeeper Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lorekeeper Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              v2 Upgrade Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="System preference"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="System preference" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="cyan"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="cyan"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/lk-arpg/lorekeeper" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    lk-arpg/lorekeeper
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Lorekeeper Docs" class="md-nav__button md-logo" aria-label="Lorekeeper Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Lorekeeper Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lk-arpg/lorekeeper" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    lk-arpg/lorekeeper
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setting Up
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../update/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating Lorekeeper
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    v2 Upgrade Guide
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    v2 Upgrade Guide
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#new-in-v2" class="md-nav__link">
    <span class="md-ellipsis">
      New in v2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="New in v2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update-to-laravel-8" class="md-nav__link">
    <span class="md-ellipsis">
      Update to Laravel 8
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Update to Laravel 8">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extensions-and-features-from-modified-main" class="md-nav__link">
    <span class="md-ellipsis">
      Extensions and Features from modified-main
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#included-extensions" class="md-nav__link">
    <span class="md-ellipsis">
      Included Extensions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Included Extensions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#opt-in-extensions" class="md-nav__link">
    <span class="md-ellipsis">
      Opt-in Extensions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#galleries" class="md-nav__link">
    <span class="md-ellipsis">
      Galleries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication-update" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Update
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Authentication Update">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changes-to-alias-storage-and-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Changes to Alias Storage and Handling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expansion-of-authentication-options" class="md-nav__link">
    <span class="md-ellipsis">
      Expansion of Authentication Options
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#credits-page" class="md-nav__link">
    <span class="md-ellipsis">
      Credits Page
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrading-to-v2" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrading to v2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upgrading to v2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#full-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Full Guide
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Full Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#updating-your-site-to-php-81" class="md-nav__link">
    <span class="md-ellipsis">
      Updating your site to PHP 8.1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pulling-updates" class="md-nav__link">
    <span class="md-ellipsis">
      Pulling Updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pushing-updates" class="md-nav__link">
    <span class="md-ellipsis">
      Pushing Updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#config-files" class="md-nav__link">
    <span class="md-ellipsis">
      Config Files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#site-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Site Settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#site-pages" class="md-nav__link">
    <span class="md-ellipsis">
      Site Pages
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../creating-item-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating Item Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Social Media Authentication
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Social Media Authentication
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../socmed/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../socmed/deviantart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    deviantArt
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../socmed/imgur/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Imgur
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../socmed/instagram/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instagram
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../socmed/toyhouse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Toyhou.se
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../socmed/tumblr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tumblr
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../socmed/twitch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Twitch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../socmed/twitter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Twitter
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Features
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/admin-panel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Admin Panel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/characters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Characters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/myo-slots/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MYO Slots
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/character-images/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Character Images
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/design-updates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design Updates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/masterlist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Masterlist
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/bookmarks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bookmarks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/species/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Species
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/rarities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rarities
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/traits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Traits
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/currencies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Currencies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/items/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Items
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/shops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shops
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/trades/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trades
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/loot-tables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Loot Tables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/galleries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Galleries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/prompts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prompts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/claims/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Claims
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/news/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    News
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/sales/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sales
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/raffles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Raffles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/user-accounts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Accounts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/user-ranks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Ranks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/notifications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notifications
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/invitation-keys/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Invitation Keys
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/reports/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reports
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/config-files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Config Files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/site-settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Site Settings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/site-pages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Site Pages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/site-images/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Site Images
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/file-manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File Manager
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Design
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/randomness/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How Random is Random?
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#new-in-v2" class="md-nav__link">
    <span class="md-ellipsis">
      New in v2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="New in v2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update-to-laravel-8" class="md-nav__link">
    <span class="md-ellipsis">
      Update to Laravel 8
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Update to Laravel 8">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extensions-and-features-from-modified-main" class="md-nav__link">
    <span class="md-ellipsis">
      Extensions and Features from modified-main
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#included-extensions" class="md-nav__link">
    <span class="md-ellipsis">
      Included Extensions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Included Extensions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#opt-in-extensions" class="md-nav__link">
    <span class="md-ellipsis">
      Opt-in Extensions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#galleries" class="md-nav__link">
    <span class="md-ellipsis">
      Galleries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication-update" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Update
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Authentication Update">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changes-to-alias-storage-and-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Changes to Alias Storage and Handling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expansion-of-authentication-options" class="md-nav__link">
    <span class="md-ellipsis">
      Expansion of Authentication Options
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#credits-page" class="md-nav__link">
    <span class="md-ellipsis">
      Credits Page
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrading-to-v2" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrading to v2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Upgrading to v2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#full-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Full Guide
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Full Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#updating-your-site-to-php-81" class="md-nav__link">
    <span class="md-ellipsis">
      Updating your site to PHP 8.1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pulling-updates" class="md-nav__link">
    <span class="md-ellipsis">
      Pulling Updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pushing-updates" class="md-nav__link">
    <span class="md-ellipsis">
      Pushing Updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#config-files" class="md-nav__link">
    <span class="md-ellipsis">
      Config Files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#site-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Site Settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#site-pages" class="md-nav__link">
    <span class="md-ellipsis">
      Site Pages
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="upgrade-guide">Upgrade Guide<a class="headerlink" href="#upgrade-guide" title="Permanent link">&para;</a></h1>
<p>Version 2 of Lorekeeper brings several new features and improvements, including the integration of the previous <code>modified-main</code> branch and its extensions, the integration of <a href="../../features/galleries/">Galleries</a>, and the expansion of social media sites available for user authentication.</p>
<h2 id="new-in-v2">New in v2<a class="headerlink" href="#new-in-v2" title="Permanent link">&para;</a></h2>
<p>Following are the major changes for this release. For a full list of changes, see <a href="https://github.com/lk-arpg/lorekeeper/releases/tag/v2.0.0">the release here</a>.</p>
<h3 id="update-to-laravel-8">Update to Laravel 8<a class="headerlink" href="#update-to-laravel-8" title="Permanent link">&para;</a></h3>
<p>This update includes updating <a href="https://laravel.com/">Laravel</a>, the framework underlying Lorekeeper, to Laravel 8 (from 5.8). While the impact of this is relatively limited, it has some minor impacts in what methods are used for some tasks. This largely impacts extensions, which may need to be updated to account for these changes.</p>
<h4 id="extensions-and-features-from-modified-main">Extensions and Features from <code>modified-main</code><a class="headerlink" href="#extensions-and-features-from-modified-main" title="Permanent link">&para;</a></h4>
<p>modified-main was a branch incorporating several community-developed <a href="https://wiki.lorekeeper.me/index.php?title=Category:Extensions">extensions</a> selected for their wide applicability and for falling into one of the following categories:</p>
<ul>
<li>An unavoidable change in behavior, but one that is arguably a net quality-of-life improvement. May also be highly useful as a base for other extensions to build upon.</li>
<li>Opt-in/must be deliberately enabled for significant changes in the behavior of the site to occur. No more obtrusive than effectively optional functions in core Lorekeeper if not in use.</li>
</ul>
<p>It includes certain extensions on an opt-in basis via a config file; these extensions tend to be sufficiently contained for this to be a viable option.</p>
<p>Also included are several minor but useful features:</p>
<ul>
<li><strong>Grouped Notifications:</strong> To account for the potentially large variety and potentially volume of notifications, they are grouped by notification type and collapse when there are more than 5 notifications of a type.</li>
<li><strong>Toggleable Comments on Site Pages:</strong> Adds a toggle to site pages which enables/disables commenting on them. Disabled by default.</li>
<li><strong>Extension Service:</strong> A utility for use by extension developers. By default, facilitates adjusting notification type IDs in a site's DB to comply with the <a href="https://wiki.lorekeeper.me/index.php?title=Community_Notification_Standard">Community Notification Standard</a>. See the <a href="https://github.com/itinerare/lorekeeper/blob/15f9ba0a750f4a08d1e3e07139ad32a0b3c7fc9f/app/Console/Commands/FixCharItemNotifs.php">this command</a> (made for Character Items) for an example of how to use this functionality.</li>
</ul>
<p>This branch and its contents have been integrated into core as of this release, as they present strong improvements to the functionality of Lorekeeper.</p>
<h4 id="included-extensions">Included Extensions<a class="headerlink" href="#included-extensions" title="Permanent link">&para;</a></h4>
<p>Documentation (where it exists) for these extensions can be viewed via <a href="https://wiki.lorekeeper.me/index.php?title=Category:Extensions_in_modified-main">Extensions in modified-main</a>.</p>
<ul>
<li><a href="https://github.com/Draginraptor">Draginraptor</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Stacked_Inventories">Stacked Inventories</a></li>
<li><a href="https://github.com/itinerare">itinerare</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Submission_Addons">Submission Addons</a></li>
<li><a href="https://github.com/itinerare">itinerare</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Character_Items">Character Items</a></li>
<li><a href="https://github.com/preimpression">Preimpression</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Bootstrap_Tables">Bootstrap Tables</a></li>
<li><a href="https://github.com/itinerare">itinerare</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Watermarking">Watermarking</a></li>
<li><a href="https://github.com/itinerare">itinerare</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Separate_Prompts">Separate Prompts</a></li>
<li><a href="https://github.com/preimpression">Preimpression</a> &amp; <a href="https://github.com/Ne-wt">Ne-wt</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Comments">Comments</a></li>
<li><a href="https://github.com/Ne-wt">Ne-wt</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Reports">Reports</a></li>
<li><a href="https://github.com/junijwi">Junijwi</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Masterlist_Sublists">Masterlist Sublists</a></li>
<li><a href="https://github.com/junijwi">Junijwi</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:MYO_Item_Tag">MYO Item Tag</a></li>
</ul>
<h5 id="opt-in-extensions">Opt-in Extensions<a class="headerlink" href="#opt-in-extensions" title="Permanent link">&para;</a></h5>
<ul>
<li><a href="https://github.com/junijwi">Junijwi</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Navbar_News_Notif">Navbar News Notif</a> - Has also been modified to apply to sales</li>
<li><a href="https://github.com/itinerare">itinerare</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Species_Trait_Index">Species Trait Index</a></li>
<li><a href="https://github.com/junijwi">Junijwi</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Character_Status_Badges">Character Status Badges</a></li>
<li><a href="https://github.com/junijwi">Junijwi</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Character_TH_Profile_Link">Character TH Profile Link</a></li>
<li><a href="https://github.com/itinerare">itinerare</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Design_Update_Voting">Design Update Voting</a></li>
<li><a href="https://github.com/itinerare">itinerare</a> : <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Item_Entry_Expansion">Item Entry Expansion (Stacked Inventories version)</a></li>
</ul>
<h3 id="galleries">Galleries<a class="headerlink" href="#galleries" title="Permanent link">&para;</a></h3>
<p>The <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Galleries">Galleries extension</a> has been integrated, providing Lorekeeper sites with the means to set up their own built-in galleries for user submissions of art and literature. See <a href="../../features/galleries/">Galleries</a> for more information.</p>
<h3 id="authentication-update">Authentication Update<a class="headerlink" href="#authentication-update" title="Permanent link">&para;</a></h3>
<p>This update is in two parts. The first changes how aliases are stored, handled, and used around the site, while the second expands the range of social media platforms usable.</p>
<h4 id="changes-to-alias-storage-and-handling">Changes to Alias Storage and Handling<a class="headerlink" href="#changes-to-alias-storage-and-handling" title="Permanent link">&para;</a></h4>
<ul>
<li>Aliases-- users' usernames on social media platforms, used to authenticate them within Lorekeeper for purposes such as verifying character ownership, etc.-- are now stored in their own table within Lorekeeper's database rather than alongside the rest of the user's information. This allows Lorekeeper to support more than one alias per user.<ul>
<li>Users now have a "primary" alias, which is always visible and is displayed on their profile, similar to the previous system.</li>
<li>Users may also have multiple non-primary aliases. These may or may not be visible to other users, as set by the user.</li>
</ul>
</li>
<li>A config file has been added which handles sites both for authentication and formatting purposes.</li>
<li>Various systems using or searching by user aliases have been updated to use either on-site user or URL (previously was either on-site user and alias or alias only).</li>
<li>Systems which previously checked if an entered alias (such as for character ownership) belongs to an on-site user have been updated to do so with entered URLs.<ul>
<li>Features that make use of this require a URL from a site enabled for auth in the associated config file. deviantArt is enabled by default.</li>
</ul>
</li>
<li>Various features which display URLs now format them as "username@site" in the vein of the previous deviantArt alias link formatting.</li>
</ul>
<h4 id="expansion-of-authentication-options">Expansion of Authentication Options<a class="headerlink" href="#expansion-of-authentication-options" title="Permanent link">&para;</a></h4>
<p>Adds the ability to use additional social media platforms as authentication options (compared to the previous sole option of deviantArt).</p>
<ul>
<li>Sites may be enabled for authentication in the associated config file; they may also be enabled for use as a user's primary alias separately in the same file.</li>
<li>Users may select the platform used for their initial link from the sites enabled both as an authentication and primary alias option.</li>
<li>Users may manage their linked aliases. This includes:<ul>
<li>Changing primary alias</li>
<li>Hiding/unhiding non-primary aliases</li>
<li>Removing non-primary aliases</li>
</ul>
</li>
<li>Users may link multiple accounts on the same social media platform</li>
<li>A page has been added to user profiles (accessible via the sidebar) listing the user's aliases</li>
</ul>
<h3 id="credits-page">Credits Page<a class="headerlink" href="#credits-page" title="Permanent link">&para;</a></h3>
<p>A credits page has been added. It provides a portion editable via the site pages admin panel for site-specific credits, lists extensions installed by way of integration into core (as above), and supplies a section for other extensions installed and tracked via an extension tracking system. This is supplied via a config file and command for updating the on-site tracker (<code>php artisan update-extension-tracker</code>).</p>
<h2 id="upgrading-to-v2">Upgrading to v2<a class="headerlink" href="#upgrading-to-v2" title="Permanent link">&para;</a></h2>
<p>As of v2.1, Lorekeeper now requires <strong>PHP 8.1</strong> (previously 7.4). No other requirements are changed.</p>
<h3 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h3>
<ul>
<li>Update your site or server to use PHP 8.1</li>
<li>Pull the updates, resolving any merge conflicts as appropriate</li>
<li>Make any config file changes</li>
<li>(Recommended) Put your site in maintenance mode via <code>php artisan down</code></li>
<li>Push updates</li>
<li>Run <code>composer update</code> or equivalent and then <code>php artisan update-lorekeeper-v2</code></li>
<li>(Recommended) Verify that no errors have occurred and use <code>php artisan up</code> to remove your site from maintenance mode</li>
<li>Perform any configuration desired within the site</li>
</ul>
<h3 id="full-guide">Full Guide<a class="headerlink" href="#full-guide" title="Permanent link">&para;</a></h3>
<p>Note that this guide assumes hosting on Dreamhost; guides for other hosts will be linked as created by community members. This guide also assumes a basic knowledge of git; see <a href="https://wiki.lorekeeper.me/index.php?title=Tutorial:_Introduction_To_Git">Tutorial: Introduction To Git</a> if you need to review.</p>
<h4 id="updating-your-site-to-php-81">Updating your site to PHP 8.1<a class="headerlink" href="#updating-your-site-to-php-81" title="Permanent link">&para;</a></h4>
<p>Note that this assumes your site is currently running PHP 7.4 as recommended for the previous version of Lorekeeper. If you are already running PHP 8.1, you can skip this step. To check, you may consult the Dreamhost control panel and enter <code>php -v</code> into PuTTY to check your PHP version.</p>
<ol>
<li>In the Dreamhost control panel, navigate to Domains &gt; Manage Domains via the sidebar</li>
<li>Click "Edit" for your site (under "Web Hosting")</li>
<li>Under "Web Options", select one of the PHP 8.1 options for "PHP Mode"</li>
<li>Click "Change settings". Allow 5-10 minutes or so for changes to process</li>
<li>To verify changes, enter <code>php -v</code> into PuTTY</li>
</ol>
<p>If after this php -v returns PHP 7.4 or others, follow these steps in PuTTY to update it (courtesy of<a href="https://discord.com/channels/678909186683437056/763287225839779842/795023074574729216"> this guide in the Lorekeeper Discord server</a>):</p>
<ol>
<li>Enter <code>cd ~</code> to ensure you are in your user directory</li>
<li>Enter <code>nano .bash_profile</code>. This will open this file in the editor</li>
<li>Add <code>export PATH=/usr/local/php81/bin:$PATH</code> to the end of the file</li>
<li>Save the file by pressing ctrl+x, y, and then enter</li>
<li>Enter <code>. ~/.bash_profile</code> to update the file you just saved</li>
<li>Enter <code>php -v</code> again to verify that the update has worked</li>
</ol>
<p>If this does not resolve the issue, contact support.</p>
<h4 id="pulling-updates">Pulling Updates<a class="headerlink" href="#pulling-updates" title="Permanent link">&para;</a></h4>
<p>Pull updates from the <a href="https://github.com/lk-arpg/lorekeeper">Lorekeeper repo</a>'s <code>main</code> branch on GitHub. You may have renamed this remote to "origin-old" as part of the set up process.</p>
<p>You may encounter merge conflicts as a result of this. Please see <a href="https://wiki.lorekeeper.me/index.php?title=Tutorial:_Installing_Extensions#Merging_Conflicts">Tutorial: Installing Extensions - Merging Conflicts</a> for information on how to resolve them. If you did not, or did and have resolved all extant conflicts, commit your changes (if you have not already).</p>
<p>You may wish to make changes to config files now, though you can do so later as well if desired (more information on added configuration options and settings is included later in this guide). If you wish to make changes now, it's recommended you review the following files and change settings as desired:</p>
<ul>
<li><code>config/lorekeeper/settings</code><ul>
<li>The pre-existing settings file. Additional options have been added in keeping with the addition of extensions from modified-main, etc.</li>
</ul>
</li>
<li><code>config/lorekeeper/extensions</code><ul>
<li>Added with the integration of modified-main. Allows toggling of opt-in extensions as outlined above, as well as handling some additional settings for them.</li>
</ul>
</li>
<li><code>config/lorekeeper/sites</code><ul>
<li>Controls which sites may be used for authentication as well as assisting with link formatting for other sites. Note that any site enabled for auth must also be configured on that platform. See <a href="../socmed/">Social Media Authentication</a> for instructions for supported sites. You may wish to prepare any additional sites you wish to use as an auth option before continuing with the update.</li>
</ul>
</li>
</ul>
<p>If/when you are ready, commit any changes to config files.</p>
<h4 id="pushing-updates">Pushing Updates<a class="headerlink" href="#pushing-updates" title="Permanent link">&para;</a></h4>
<ol>
<li>Open PuTTY and navigate to your site's www directory (<code>cd ~/site-name.com/www</code>)</li>
<li><strong>Recommended:</strong> Before pushing any updates to your site, enter <code>php artisan down</code> in PuTTY to put your site in maintenance mode. This will prevent any users from making changes while updates are being run, which helps minimize the risk of issues occurring during the update process.</li>
<li>Push the changes to your site</li>
<li>Enter <code>composer update</code> (if you installed composer globally) or <code>php composer.phar update</code> (if you installed composer locally only)<ul>
<li>If you have not already done so, it's highly recommended you update composer itself to 2.x using <code>composer self-update</code> as it is a much faster and less resource-intensive version! You may be prompted to update using <code>composer self-update --2</code> specifically; do so.</li>
</ul>
</li>
<li>Enter <code>php artisan update-lorekeeper-v2</code>. This will run a variety of commands to update Lorekeeper and any existing data in your site for v2.<ul>
<li>If you installed <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Character_Items">Character Items</a> prior to September 10th, 2020, also enter <code>php artisan fix-char-item-notifs</code> at this time</li>
</ul>
</li>
<li>If you put your site in maintenance mode earlier, enter <code>php artisan up</code> to put it back up</li>
<li>Verify that no errors have occurred</li>
</ol>
<p>Your site will now be updated and available to configure as desired.</p>
<h4 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h4>
<p>Configuration options and settings added as part of this update are listed here for convenience. For additional extension-specific configuration information, consult the extension's documentation.</p>
<h5 id="config-files">Config Files<a class="headerlink" href="#config-files" title="Permanent link">&para;</a></h5>
<p>All following settings are configured via config files. For more information, see <a href="../../features/config-files/">Config Files</a>.</p>
<ul>
<li><code>config/lorekeeper/settings.php</code><ul>
<li><code>watermark_masterlist_images</code><ul>
<li>Whether or not masterlist images are automatically watermarked.</li>
<li>Default: 0</li>
</ul>
</li>
<li><code>masterlist_image_dimension</code><ul>
<li>Dimension (in px) to scale the shorter dimension (between width/height) of masterlist images to. Set to 0 to disable resizing.</li>
<li>Default: 0</li>
</ul>
</li>
<li><code>masterlist_image_format</code><ul>
<li>Format to convert masterlist images to. Set to null to disable conversion.</li>
<li>Default: null</li>
</ul>
</li>
<li><code>masterlist_image_background</code><ul>
<li>Color (hex code) to fill the background of non-png image types when converting images to file formats that do not support transparency. Set to null to disable. Only takes effect when converting to a file format that isn't png.</li>
<li>Default: #ffffff</li>
</ul>
</li>
<li><code>store_masterlist_fullsizes</code><ul>
<li>Whether to store the full size of masterlist images (relevant if resizing and/or watermarking are enabled). Set to 0 to disable. Not retroactive either way.</li>
<li>Default: 0</li>
</ul>
</li>
<li><code>masterlist_fullsizes_cap</code><ul>
<li>Size (in px) to cap full-sized masterlist images at. Images above this cap in either dimension will be resized, retaining aspect ratio. Set to 0 to disable.</li>
<li>Default: 0</li>
</ul>
</li>
<li><code>watermark_masterlist_thumbnails</code><ul>
<li>Whether or not to watermark masterlist thumbnails. Expects the whole of the character to be visible, so it is recommended to use the thumbnail behavior/disable this if that isn't standard for your site. Set to 0 to disable.</li>
<li>Default: 0</li>
</ul>
</li>
<li><code>masterlist_image_automation</code><ul>
<li>When enabled, replaces the thumbnail cropper and automatically makes all masterlist images square, adding transparent space to the shorter dimension of the image to do so. Thumbnails are consequently resized versions of the full masterlist image.</li>
<li>Default: 0</li>
</ul>
</li>
<li><code>default_purchase_limit</code><ul>
<li>An arbitrary upper limit on the number of an item a user can purchase in a single shop transaction.</li>
<li>Default: 99</li>
</ul>
</li>
<li><code>currency_symbol</code><ul>
<li>Symbol for the (real world) currency used for sales posts.</li>
<li>Default: $</li>
</ul>
</li>
</ul>
</li>
<li><code>config/lorekeeper/extensions.php</code><ul>
<li><code>navbar_news_notif</code><ul>
<li>Enables <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Navbar_News_Notif">Navbar News Notif</a>.</li>
<li>Default: 0</li>
</ul>
</li>
<li><code>species_trait_index</code><ul>
<li>Enables <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Species_Trait_Index">Species Trait Index</a>.</li>
<li>Default: 0</li>
</ul>
</li>
<li><code>character_status_badges</code><ul>
<li>Enables <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Character_Status_Badges">Character Status Badges</a>.</li>
<li>Default: 0</li>
</ul>
</li>
<li><code>character_TH_profile_link</code><ul>
<li>Enables <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Character_TH_Profile_Link">Character TH Profile Link</a></li>
<li>Default: 0</li>
</ul>
</li>
<li><code>item_entry_expansion</code><ul>
<li>Enables various features of <a href="https://wiki.lorekeeper.me/index.php?title=Extensions:Item_Entry_Expansion">Item Entry Expansion</a></li>
<li><code>extra_fields</code><ul>
<li>Enables extra fields.</li>
<li>Default: 0</li>
</ul>
</li>
<li><code>resale_function</code><ul>
<li>Enables the resale function.</li>
<li>Default: 0</li>
</ul>
</li>
<li><code>loot_tables</code><ul>
<li><code>enable</code><ul>
<li>Adds the ability to use either rarity criteria for items or item categories with rarity criteria in loot tables. Note that disabling this does not apply retroactively.</li>
<li>Default: 0</li>
</ul>
</li>
<li><code>alternate_filtering</code><ul>
<li>By default this feature uses more broadly compatible methods to filter by rarity. If you are on Dreamhost/know your DB software can handle searching in JSON, it's recommended to set this to 1 instead.</li>
<li>Default: 0</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>traits_by_category</code><ul>
<li>Enables grouping traits as listed on character pages by category.</li>
<li>Default: 0</li>
</ul>
</li>
<li><code>character_reward_expansion</code><ul>
<li><code>expanded</code><ul>
<li>Enables expanded character rewards, allowing items and loot tables to be awarded to characters.</li>
<li>Default: 1</li>
</ul>
</li>
<li><code>default_recipient</code><ul>
<li>Recipient for items that cannot be held by characters. 0 to default to the character's owner (if a user), 1 to default to the submission user.</li>
<li>Default: 0</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>config/lorekeeper/sites.php</code><ul>
<li>All sites have the following settings:<ul>
<li><code>full_name</code><ul>
<li>The full name of the site.</li>
</ul>
</li>
<li><code>display_name</code><ul>
<li>The shortened display name used, for instance, for link formatting.</li>
</ul>
</li>
<li><code>regex</code><ul>
<li>Regex pattern used to match URLs for the site.</li>
</ul>
</li>
<li><code>link</code><ul>
<li>The site's URL.</li>
</ul>
</li>
</ul>
</li>
<li>Sites which may be used for auth also have these settings:<ul>
<li><code>icon</code><ul>
<li>The Font Awesome icon used to represent the site within the Lorekeeper UI.</li>
</ul>
</li>
<li><code>auth</code><ul>
<li>Whether or not the site may be used for auth. At least one site must be enabled.</li>
<li>Default: 1 for deviantArt, 0 for others</li>
</ul>
</li>
<li><code>primary_alias</code><ul>
<li>Whether or not aliases from this site may be used as a user's primary alias. At least one site must be enabled.</li>
<li>Default: 1 for deviantArt, 0 for others</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="site-settings">Site Settings<a class="headerlink" href="#site-settings" title="Permanent link">&para;</a></h5>
<p>All following settings are configured in the Site Settings admin panel. For more information, see <a href="../../features/site-settings/">Site Settings</a>.</p>
<ul>
<li><code>admin_user</code><ul>
<li>By default, this is used to direct notifications for comments on site pages to an account. Extensions may also use this setting. It's recommended that this correspond to the ID of an account that is not used by any one person and is solely for administrative purposes.</li>
<li>Default: 1</li>
</ul>
</li>
<li>(Design Update Voting) <code>design_votes_needed</code><ul>
<li>The number of votes needed for consensus on a design update.</li>
<li>Default: 3</li>
</ul>
</li>
<li>(Galleries) <code>gallery_submissions_open</code><ul>
<li>Whether or not gallery submissions are open globally.</li>
<li>Default: 1</li>
</ul>
</li>
<li>(Galleries) <code>gallery_submissions_require_approval</code><ul>
<li>Whether or not gallery submissions require approval.</li>
<li>Default: 1</li>
</ul>
</li>
<li>(Galleries) <code>gallery_submissions_reward_currency</code><ul>
<li>Whether or not gallery submissions reward currency.</li>
<li>Default: 0</li>
</ul>
</li>
<li>(Galleries) <code>group_currency</code><ul>
<li>ID of the group currency used for gallery submission rewards, if enabled.</li>
<li>Default: 1</li>
</ul>
</li>
<li>(Reports) <code>is_reports_open</code><ul>
<li>Whether or not reports are open.</li>
<li>Default: 1</li>
</ul>
</li>
</ul>
<h5 id="site-pages">Site Pages<a class="headerlink" href="#site-pages" title="Permanent link">&para;</a></h5>
<p>The content of the following pages is configured via the Pages admin panel. For more information, see <a href="../../features/site-pages/">Site Pages</a>.</p>
<ul>
<li><strong>Credits</strong><ul>
<li>Part of/integrated into the larger credits page, which also displays extensions installed on the site. It is supplied via a site page for convenient editing, but does not need to/should not be displayed independently.</li>
</ul>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>